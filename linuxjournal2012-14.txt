2014-12-31
1、1093911726。Qq申请后的好友克隆没用，也许要换一个浏览器试试。就冻结了。
2、苗立双发邮件声称的baidu搜索后无法访问，是linux pppoe拨号程序没有改变mtu的原因。
3、编译不成功可能是编译的

2014-12-30
1、貌似自己建的仓可以编译了，来修饰一下吧。
2、难道只是编译成功，合成的sfp文件和fw文件明显要小5m。感觉是文件区太小了，只有1m多，难道很多的东西没有编译？加入feeds目录中的文件后sfp貌似到8m了，不过比原来那个还是要小一点点。加上obj和share这两个目录好像也没有什么变化。
3、自己编译的fw是可以加载的。

2014-12-29
1、使用那个kraken就用吧。先做出一个能编译的仓来。
2、如果centos安装的时候选择纽约，yum的速度好慢啊。
3、如果出现no module named Crypto.Cipher ，那么要用 sudo yum install pycrypto。

2014-12-27
1、笔记本上的sdk4.1.1.0还在编译，漫长的过程，有一次出错，再编译一次又继续了，奇怪啊。
2、要脱离那个什么kraken还真的比较复杂，搞了两天了

2014-12-26
1、终于编译完成了sequans的那个sdk 4.1.1.0，它在openwrt上又包裹了一层什么kraken，完全不知道这是个什么东东。按照一般理解，它只需要提供新的几个bin档就可以了，结果变得非常复杂。它在SEQUANS-4.1.1.0-17922这个目录就不那么大了，只有2.8g，而~/.kraken目录就高达3.5g。

2014-12-25
1、做如下的测试，在如下全新系统进行编译
	Ubuntu 14.04	Centos 6.6
32位		1、对新机器来说，缺少了xz
编译成功。
64位		
2、使用外部编译器，去掉gmp还是没有问题的。本来就没有编译，浪费时间。
3、busybox的date指令需要使用这样的格式date "2014-10-01 12:00:00"

2014-12-24
1、如果在tools/Makefile中去掉libtool, 那么会提示Libtool library used but `LIBTOOL' is undefined。
2、去掉m4好像是可以的。
3、笔记本上9:53开始使用外部编译器编译。可能是11：08编译完成的。时间超长啊。如果加上编译器的编译，那么时间是2小时25分。
4、这个文件 ../apps/host/sqndcc/csharp/dcc.cs为什么会改变。
5、77上删除了tmp/.host.mk这个文件
6、108上修改了一下编译选项：[*] Strip unnecessary exports from the kernel image                                                        x x  x x [*] Strip unnecessary functions from libraries，报错了，看来需要mklibs这个工具。现在报这样的错误：Exception: Cannot find lib/lib/ld-uClibc.so.0。如果使用tools/Makefile中增加mklibs，让openwrt自己编译mklibs，那么就可以编译通过了。生成的sfp文件确实小了200k，但是升级后，在目标板上仍然是3.6+4.5m的格局。算了。
7、目标版上居然有个stress，压力测试工具。删掉它看看。编译成功了，sfp文件小了一点点。
8、增加应用程序应该比较简单，可以参考那个wdtApp的。
9、内核中似乎没有加上80211q选项，但是vconfig可以正常运行，奇怪的现象。进入build_dir/target-mips-openwrt-linux-uclibc/linux-sqn31x0_sqn3120-hostless_ecm/linux-3.7.6目录再执行 make ARCH=mips menuconfig，好像不受外面的控制吧。

2014-12-23
1、按照http://xg2007524.blog.51cto.com/869106/1337465这个文章来对77的gcc进行升级。好像还是不行，看来只有升级ulibc了。
2、按照http://www.cnblogs.com/gw811/p/3676856.html这个来试试吧。
3、碰到了这个问题hese critical programs are missing or too old: as ld，那么参考这个http://blog.csdn.net/fjb2080/article/details/4777220来更换ld，安装后的ld在/usr/loacl/bin中，复制到/usr/bin里面吧。
4、继续configure ulibc，新的问题来了checking installed Linux kernel header files... missing or too old! 77这个系统真的是太老了。复制249上的/usr/include/linux目录过来
5、新的的告警是*** On GNU/Linux systems the GNU C Library should not be installed into *** /usr/local since this might make your system totally unusable.那么加上../glibc-2.20/configure --prefix=/opt/glibc-2.20试试吧。不报错了，开始make -j4编译吧。
6、/usr/include/linux/swab.h:6:22: 致命错误：asm/swab.h：没有那个文件或目录，看来复制的东西还少了些。致命错误：asm-generic/param.h：没有那个文件或目录。那么继续复制吧： scp -r jian@192.168.1.249:/usr/include/asm-generic .
 scp -r jian@192.168.1.249:/usr/include/asm .
7、make 通过了，sudo make install，这都会报错啊make[1]: *** [install-symbolic-link] Segmentation fault。


2014-12-22
1、今天来测试p10的上网，王伍测试任务连续点4个站点，就可能导致p10几乎没有速度了。正常8次。
2、source insight 对*.cc文件不解析啊。在option|preferences中的languages中的c++ language增加文件后缀就可以了。http://www.cnblogs.com/chinacloud/archive/2010/11/17/1880127.html
3、在77上使用外部编译，ERROR: CONFIG_SOFT_FLOAT is enabled but the external toolchain does not support it，这个东东曾经见到过，忘却是如何解决的了。在249上使用外部编译器也是这个错误了，奇怪。直接执行里面的gcc，报“不能执行的二进制文件”，对了，我使用的是64位系统编译的，放到32位的系统上自然是无法运行了。
4、ubuntu运行32位程序：sudo apt-get install lib32stdc++6 lib32z1 lib32z1-dev，cent os 的是yum install libgcc.i686 glibc.i686 zlib.i686

2014-12-19
1、这样做貌似就可以编译那个curl了
cp staging_dir/target-mips-openwrt-linux-uclibc/lib/libdl* staging_dir/target-mips-openwrt-linux-uclibc/usr/lib/，貌似只要这个usr/lib下有这几个文件就可以了。这几个文件复制到toolchain---的目录下是没有用的。
2、使用外部编译器还缺少了libuClibc-0.9.33.2.so这个库，真不知道这些库是怎么搞的。

2014-12-18
1、这样好像还是不行ln -s /opt/mip-gcc/lib staging_dir/target-mips-openwrt-linux-uclibc/lib，那么 ln -s /opt/mip-gcc/lib staging_dir/toolchain-mips-openwrt-linux-uclibc/lib这样试试吧。还是不行啊。
2、突然发现the bat 不能发送邮件，使用其他软件可以发送，认为不是系统的问题，把the bat 复制到其他机器，可以发送，又是系统的问题？还好thebat 有个异常，说是foxmail的某个动态库加载异常，MAPI #0: Foxmail [Foxmail]; Path: D:\Program Files\Foxmail 7.2\FMMAPI32.dll  (not valid)从注册表中搜索这个动态库，删掉相应的条目，终于可以发送了。message xxxx with subject xxxx is not properly addressed

2014-12-17
1、ld-uClibc.so.0 -> ld-uClibc-0.9.33.2.so没有了这个链接，就会出现./dropbear: not found这样的提示。

2014-12-16
1、在Sequans Communications\Firmwares只有一个default.fw的情况下，是可以从ffh方式启动的。但是自己编译的那个fw无法启动。而使用sequans提供的那个，还是无法进行升级。
2、现在做一个这样的版本，不删除多余的包，再次进行ffh方式的编译看看情况如何。这样编译后的文件还是和原来的一样大，估计没啥用。确实是一样的。
3、从网上搜索的情况来看，./dropbear: not found 这样的原因是编译器不同。复制一个没有使用外部编译器的dropbear上去，也同样报这个错误。


2014-12-15
1、ftp中出现了一个新版本的sdk，但是目录结构似乎已经改变了。找到了deploy.sh，居然在.sqn_deploy这样的隐藏目录中。
2、再次成功使用外部编译器编程成功了，错误还是和原来是一样的，网卡不通了。从串口来看，似乎许多东西没有了。如果直接设置地址进行升级呢,curl not found，奇怪啊，本身升级包并没有减少多少。/usr/bin/curl是存在的，但是执行它，还是curl not found

Atheros todo list 不用置顶了。
12、做一个每日重新全编译的脚本。
31、在cpe中，如果mcu发来的txpower过小，导致不能连接，那么要恢复原来可以连接的值。
35、在某些情况下，有遮蔽是，如果把cpe的速度不设置为自动，而是设置为手工6.5m，效果反而更好。在程序中要体现。
38、制作文件系统时，链接文件应该只比较链接文件本身，不要比较链接到的文件。
50、cpe-8m, ap增加对通用寄存器的读操作功能
54、写片文件的uboot考虑使用固定的版本。
59、在nat模式下远程升级一定是有问题的。
62、双流的cpe的makefile中编译uboot使用的还是cpe-5g的u-boot的编译方式。如果两者有区别后，再分开。
64、改写Makefile中的busybox代码，如果.config文件和需要复制的文件一样，就不要做clean操作了。
70、把9311的vlan功能放到网卡驱动中去，这样，cped的程序就能直接写一个统一的文件就好了。
71、考虑在ap中设置选项，如果系统采用的是pppoe拨号方式上网，可用完全禁止下行的广播包。
74、iptables对网桥无效的问题，或许是内核中的有的东西没有编译？
75、使用vlan时，会发生cpe访问错误的情况。
80、5g cpe的灯会狂闪。
81、ap增加加密功能
82、Ap增加多ssid功能
83、在做三流的ap时，把加密的东西加入。
84、把ap中单流双流的设置改为直接使用指令。
85、ap上报程序中，内核版本只需要读一次就可以了，不用每10秒读一次。
88、cpe中的udp端口限制还是错的。
89、beacon包中同时存在ssid(0x0)和自定义ssid（0x90）的情况下，而且数据不一样，那么cpe是否会误判？
90、beacon是否可以按照124毫秒的间隔进行发送？
102、分时的设置应该绑定到某个mac上，现在是两个不分。
104、现在ap内置的简单的tc会挂掉。

2014-12-5
1、sudo apt-get install texlive-latex-extra，这个超大啊。

2014-11-27
1、coreutils-8.23可以编译出可以使用du -hd1这样指令的du来，编译后复制src/du到原来的du就可以了，否则每次使用max-depth太麻烦。

2014-11-26
1、sequans居然要求cmake在2.8以上，也许是我从工具中删除了cmake。
2、编译docs中的东西要sudo apt-get install texlive-latex-base，好大啊。sudo apt-get install tex4ht。

2014-11-25
1、netifd这个东西是使用git的，这样你怎么去统一？在内网没有的情况去公网下载？

2014-11-24
1、openwrt中scripts/localmirrors中的地址应该是最优先下载的。这几个还是放到cfg中去复制一下吧。

2014-11-13
1、sequans的升级好像没有什么作用。
2、Openwrt的tools中存在依赖关系，所以要去掉某个tools的编译，要先查依赖关系。

2014-11-12
1、bakefile-0.2.9居然有make uninstall这个东西。

2014-11-11
1、openwrt的编译居然提示不要使用root来进行编译。

2014-11-10
1、centos 增加用户除了useradd还必须passwd后该用户才可以登陆。
2、已经有两个人报ap和路由器相连后不通的情况了。奇怪的问题。

2014-11-6
1、编译fff的还需要更多的包和gccxml这个东东。编译完成后总占用的空间为6.9G.
2、Openwrt的备份是把/etc和./var目录复制下来。
3、Sequans这个设备的可用内存少得可怜啊。

2014-11-5
1、使用tar Jcvf host.tar.xz host 压缩出来的压缩包是tar.gz格式的一半，压缩时间明显较长。
2、Sequens的openwrt编译需要bakefile的0.2.9版本，而编译这个bakefiile又需要sudo apt-get install python-dev。

2014-10-30
1、在64位的centos上编译p11，还要增加yum install zlib-devel.i686 glibc.i686这两个库，貌似这两个库都是那个mkfs.jffs2需要的。
2、现在安徽的l2tp拨号后，在ip138上得到的ip是正确的了。
3、当前使用安徽的l2tp做下行发udp包测试，可以连续发800个包貌似不丢包。如果使用以太网来测试，也差不多。
4、昨天使用以太网时，speedtest上行测试报错，今天又可以了，也许是换了PC？
5、在64位的系统上编译atheros的系统上是可以的。

2014-10-29
1、这个地址下载非常快：http://centos.ustc.edu.cn/centos/7.0.1406/isos/x86_64/
2、Centos 7在vm中安装后找不到eth0啊，升级到最新的vm也没有。
3、使用新版本的vm player，安装centos mini的时候，不可以使用简易安装，必须选最后一项。否则安装过程中会报错，安装后虚拟机无法启动。

2014-10-23
1、uboot中有dhcp的指令，可以得到地址。

2014-10-21
1、 openwrt在ubuntu上需要：sudo apt-get install libssl-dev
2、 mtd-utils-1.4.5.tar.gz这个文件已经不能从openwrt里面的脚本取了。报对方断线。
3、新的openwrt在ubuntu 14.04 64bit上可以编译，但在centos上不能编译，重新放到一个新的目录上看看吧。在新的目录上可以编译通过，奇怪了。

2014-10-20
1、9882这个芯片似乎很没有驱动的啊，从atheros和openwrt都没有出现第二个无线设备。
2、使用最新的buildroot, gcc 4.8.3 来编译atheros sdk中的内核，还是跑不起来。
3、Buildroot中，运行了make menuconfig 增加2g大文件支持后，居然要make clean之后，才能重新编译。
4、当前的openssl 需要yum install openssl-devel.i686 openssl.i686才能继续。

2014-10-16
1、从cvs导入到git中，如果存在中文文件名，那么文件名就没法在windows下正确显示了。

2014-10-15
1、在导入cvs的仓时，要在先执行一下：
git config --global i18n.commitEncoding = GB2312，然后在使用git cvsimport命令，再在.git/config文件中加入
[i18n]
       commitencoding = gbk
这样，原来提交的中文备注就可以在gitk中显示了。Git log仍然显示为乱码，就不管了。
2、gitk --all 就可以查看所有的分支了。

2014-10-14
1、sudo apt-get install git-cvs，然后就可以使用git cvsimport -v -d :pserver:user@xx.sohu.com:/var/spool/cvsroot/ test_module这样的指令来把cvs的仓库导入到git中。
2、删除所有文件，只留下.git目录后，运行git checkout * 就可以把文件还原了。

2014-10-13
1、gcc: error trying to exec 'cc1plus': execvp: No such file or directory，这个应该是要安装g++, sudo apt-get install g++
2、 File "/usr/lib/python2.7/subprocess.py", line 710, in __init__
    errread, errwrite)
  File "/usr/lib/python2.7/subprocess.py", line 1327, in _execute_child
    raise child_exception
OSError: [Errno 2] No such file or directory
这个居然是gperf这个东东没有安装，sudo apt-get install gperf

2014-10-11
1、这篇文章写在ubuntu上如何切换java的版本
http://blog.manishchhabra.com/2012/05/installing-oracle-sun-java-jdk-and-setting-java_home-in-ubuntu-linux/
2、如果同时存在一样的ssid，信号强度相差较大，那么cpe连到信号较好的去。从一个ap中踢掉cpe，cpe会立即连接到另外的ap。
3、Tozed-s8这个东西还必须在64bit的linux中编译？过分啊。
4、Ubuntu 和windows之间，使用git的scp速度只有2m，而是要ftp能达到网卡慢速，区别大了。网线直接连接可达30m，不过不太稳定。
5、error.GitError: config: [Errno 2] No such file or directory，这个错误应该是没有安装git-core吧。
6、prebuilts/tools/gcc-sdk/g++: line 40: prebuilts/tools/gcc-sdk/../../gcc/linux-x86/host/i686-linux-glibc2.7-4.6/bin/i686-linux-g++: No such file or directory 应该是没有安装gcc。sudo apt-get install gcc-multilib
7、libz.so.1: cannot open shared object file: No such file or directory，要安装lib32z1
8、error while loading shared libraries: libstdc++.so.6: cannot open shared object file: No such file or directory 要安装lib32stdc++6.
9、还要安装unzip，否则会报没有找到unzip，但是貌似也能过去
10、make: *** [out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.cpp] Broken pipe，装上sudo apt-get install bison flex libxml2-utils lzma zip这几个再说。
11、make -j4能快些吧。

2014-10-10
1、配置中增加这些，启用双phy。
+export ATH_GMAC_SUPPORT_DUAL_PHY=1
+export ETH_CONFIG=_s27
+export ETH_CONFIG2=_ar803x
2、ubuntu 14 有时候会使用ipv6，比如提示这样的信息
Cannot initiate the connection to ph.archive.ubuntu.com:80 (2001:d18:1:1::94). - connect (101: Network is unreachable) [IP: 2001:d18:1:1::94 80]
在/etc/sysctl.conf中增加这样的设置：
net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
net.ipv6.conf.lo.disable_ipv6 = 1
然后执行：sudo sysctl -p
参考：http://askubuntu.com/questions/440649/how-to-disable-ipv6-in-ubuntu-14-04
3、ubuntu 14的vnc server必须增加以下设置，才能被原来的vnc viewer所登陆：
gsettings set org.gnome.Vino require-encryption false


2014-9-29
1、使用移动的网络对时，那么貌似ntp.sjtu.edu.cn之类的更好，国外的对时地址直接不能访问。

2014-9-28
1、使用od -x filename 来用16进制查看文件内容。

2014-9-26
1、busybox的shell貌似没有Shellshock漏洞。

2014-9-24
1、继续测试安徽的l2tp吧，测试“使用安徽的l2tp server，在pc端使用测试软件按照可用的用户名密码进行不断拨号。”拨号间隔为1分钟。22：00开始，可用内存为36.3m，到26日早上还要35.6m，到27日早上还要35.2m，28日9:00还有34.8m。继续测试。

2014-9-22
1、在泰然使用的ap-cp这个，好像没个小时会断一下线，我已经把那个“流量百分比”改到了0，/tmp目录下也没有相应的文件。
2、要实现多ssid并加vlan也不是很复杂：
brctl addbr br1
makeVAP ap-wds SSID2 0:RF:6:11NGHT20
activateVAP ath1:0 br1
vconfig eth1 add 100
ifconfig eth1.100 up
brctl add if br1 eth1.100
ifconfig br2 up
那么通过SSID2 连上的，从eth1出去的包，就带有vlan 100了。
3、颜斌买的938x的网卡是可以抓到5.8g 300m情况下的ping包的。
4、把cpe-df的程序直接写到苗立双的板子上，最边上的端口就是eth0了。这个时候，最边上的口拔插，所有寄存器都没有改变，而中间三个口拔插是，寄存器都有相应的修改。如果把6xx寄存器也打出了就发现有不一样的了。

2014-9-19
1、其实改为16m所要进行的改动非常少。详细见df-16m这个分支。
2、git push origin serverfix，上传分支，git push origin :serverfix 删除服务器上的分支。

2014-9-17
1、两个phy的看来没有多少希望了。总是没有什么作用。
2、在9341上使用16m的芯片，芯片型号是mx25l2835f@sop8，必须改型号才可以烧录，否则使用原来那个8m的，擦除就过不去。
3、16m的flash直接烧录呢，似乎会导致校准区读取错误。无线启动不正确。

2014-9-16
1、今天来测试使用正式环境的正常拨号测试，测试间隔为60秒，早上9:00，可用内存为33.7m。下午3点停止测试。
2、如果只有phy27来编译，那么是可以ping通的，说明硬件上应该是没有问题的。

2014-9-15
1、今天来测试“使用自建l2tp server， xl2tpd配置同测试2，在pc端使用测试软件按照错误的用户名密码进行不断拨号。”，上午9:00开始，剩余33.9m，pc上的不停的拨号程序有时候有问题，下午2点的时候就变成不断拨号，但没有拨号的行为了。改为20秒拨号一次。下午3点的时候又出现，改为60秒一次，貌似正常了。第二天早上停止后，剩余内存34.2m。
2、在以太网卡的驱动修改Makefile.inc，当选择8035时，把s27phy也加入，设置ATH_GMAC_GE1_IS_CONNECTED=1，那么可以编译过去，设置不同的mii那么结果是这样的：
ATH_GMAC0_MII=1
ATH_GMAC1_RGMII=1	有eth0,eth1但是貌似都不通
ATH_GMAC0_RGMII=1
ATH_GMAC1_MII=1	有eth0,eth1但是貌似都不通
ATH_GMAC0_MII=1
ATH_GMAC1_MII=1	有eth0,eth1但是貌似都不通
ATH_GMAC0_RGMII=1
ATH_GMAC1_RGMII=1	有eth0,eth1但是貌似都不通
ATH_GMAC0_RGMII=1
ATH_GMAC1_GMII=1	有eth0,eth1但是貌似都不通
3、使用operwrt的内核，可以检测到线的拔出，但无法ping通。

2014-9-14
1、开始用pc端pppoe来拨号吧。10:11 剩余33.9m, 到第二天早上还要34.2m

2014-9-12
1、开始无l2tp server的情况进行测试。10:00剩余内存34.7m，第二天早上还有34.5，但是xl2tpd的statm中的占用内存有所增加

2014-9-11
1、继续测试可以拨通，xl2tpd单独拨号的情况，9:30剩余内存34m
2、列一个需要测试的表格吧
测试用例	测试结果	测试时间
1、在用户名密码错误的情况下，重复使用echo “c anhui test test” > /var/run/xl2tpd/l2tp-control 进行拨号	Xl2tpd 在处理pipe时会有没有关闭的情况，关闭pipe后，测试18小时，可用内存从22.7m到22.2m	开始2014-9-4 14:00 
结束2014-9-5 8:30
2、使用自建l2tp sever，xl2tpd配置连接到自建server，使用echo “c test test test” > /var/run/xl2tpd/l2tp-control正常拨号	测试了23个小时，可用内存从开始的34m，到结束是还有34m	开始 2014-9-11 9:30
结束 2014-9-12 10:00
3、关闭自建l2tp server xl2tpd配置同测试2，同样拨号。	测试了23小时，可以内存从开始的34.7到结束的34.5
但是xl2tpd的statm中的占用内存有所增加，速度非常慢。	2014-9-12 10:00 ~2014-9-13 9:20
4、关闭自建l2tp server xl2tpd配置同测试2，在pc端使用测试软件进行不断拨号。		
5、使用自建l2tp server， xl2tpd配置同测试2，在pc端使用测试软件按照错误的用户名密码进行不断拨号。	开始剩余33.9m, 到第二天早上还要34.2m
但是xl2tpd的statm中的占用内存有所增加，速度非常慢。	2014-9-15 9:00 ~ 2014-9-16 8:30
6、使用自建l2tp server， xl2tpd配置同测试2，在pc端使用测试软件按照可用的用户名密码进行不断拨号。	开始剩余33.9m, 到第二天早上还要34.2m	2014-9-14 10:11 ~2014-9-15 8:45
7、使用安徽的l2tp server，在pc端使用测试软件按照可用的用户名密码进行不断拨号。		
8、使用安徽的l2tp server，在pc端使用测试软件按照可用的用户名密码进行不断拨号，同时不断ping到www.163.com		


2014-9-5
1、那么今天来建立一个lns，再用xl2tpd进行测试，这样每次都能拨通，这样不停的测试看看会不会有问题。
2、openwrt的最新编译器在staging_dir/toolchain-mips_34kc_gcc-4.8-linaro_uClibc-0.9.33.2/bin

2014-9-4
1、移植了lsof也看不出什么来啊。
2、现在11:10重新测试xl2tpd程序本身，使用4秒不断拨号，密码错误。当前可用内存23m
下午2:00，还有22.7啊，应该是没有问题，这个测试还一直是没有增加内核支持的啊。重新测试吧。2:07开始，还有22.7m，到第二天早上还有22.2m，应该说xl2tpd本身在拨号不通的情况下是没有问题的了。
3、使用3.2.12的内核有奇怪的问题，如果去掉5.8g的卡，那么内核就无法启动了。这里面的机关还真的很多。

2014-9-3
2、从/proc/$pid/fd目录中可以看到当前程序使用的文件描述符，从/proc/$pid/statm中可以看到当前程序的内存使用情况。现在重新开始测试：16:05 剩余内存35m，跑到第二天早上9点，只有23m了，但是xl2tpd的statm并没有增加多少，而pppoe-server就根本没有增加。两个程序的fd也没有增加。

2014-9-2
1、即使是使用xl2tpd自己拨号，那么也会在pipe这个函数这里挂掉，先看看errno吧。
2、Openwrt终于在9344的板子上跑了起来，openwrt的设置和atheros提供的sdk中就完全不一样了。主要是需要在uboot中提供machtype=DB120 mtdparts=spi0.0:... 完整的如下：
set bootargs machtype=DB120 console=ttyS0,115200 root=31:02 init=/sbin/init rootfstype=jffs2 mtdparts=spi0.0:256k(u-boot),64k(u-boot-env),6336k(rootfs),1408k(uImage),64k(mib0),64k(ART)
3、但是openwrt的uboot还是不能运行的，是不是还有进行一些设置？

2014-9-1
1、现在来这样测试，仅使用xl2tpd进行拨号，9:16还剩36m，下午的时候报错： Unable to create password pipe for pppd。Killall xl2tpd后，内存恢复。再次运行不久又报错recvfrom returned error。如果只跑xl2tpd不断拨号，那么kill xl2tpd，内存能够恢复。
2、当前的openwrt中athros系列的内核在
build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/linux-3.10.49
目录中。原来的在
build_dir/linux-ar71xx_generic/linux-3.2.12 目录中。

2014-8-30
1、今天来测试nat的情况，9:30剩余35m，12:50还有29m了。开始只ping不拨了看看。到6点还有28.5m。开始只有pppoe的测试，18:52 还有35m。

2014-8-29
1、1分钟拨断一次，不断拨号测试跑了一天，还有19m可用内存，到底是什么占有了内存？下午2点改用10s拨断一次。下午3点，只有14m了，改为6秒一次。那么应该就和tunnel的是否释放没有关系了，因为tunnel一直都没有释放。下午4点，只有7m啦。
2、修改使得内核pppoe中不直接进行l2tp的转发，由pppoe-server转发。下午4点9m。下午5:42还有8m，那么，重启试试吧。
下午6点，36m，第二天早上9点，还有20m。和昨天差不多嘛。
3、在ap板上跑dropbear，原来/usr/sbin里面有个2014.64版本的dropbear，结果总是登陆不了。
4、减少dropbear体积：480964， 
 
INETD_MODE	480904
ENABLE_X11FWD	480469
ENABLE_CLI_AGENTFWD	475876
ENABLE_CLI_AGENTFWD	471270
ENABLE_CLI_PROXYCMD	471207
ENABLE_CLI_NETCAT	470933
ENABLE_USER_ALGO_LIST	466568
DROPBEAR_AES256	466488
DROPBEAR_TWOFISH256	466404
DROPBEAR_TWOFISH128	461292
DROPBEAR_MD5_HMAC	457090
DROPBEAR_ECDSA	451685
DROPBEAR_CURVE25519	451390
DROPBEAR_ECDH	405900
DO_MOTD	403900
看起来并没有小很多啊，还有几个比如转发、pubkey验证、sftp等没有去掉，主要是觉得这几个功能比较实用。试试看吧：
SFTPSERVER_PATH	403756 还是可以进行scp操作的
ENABLE_CLI_LOCALTCPFWD
ENABLE_CLI_REMOTETCPFWD
ENABLE_SVR_LOCALTCPFWD
ENABLE_SVR_REMOTETCPFWD	396719
DROPBEAR_ENABLE_CTR_MODE	394341
总体来说，通过选项减少的体积不多。那么来configure的时候选项呢，option.h是原始的：
--disable-zlib	409759
 --disable-openpty --disable-syslog --disable-lastlog --disable-utmp --disable-utmpx --disable-wtmp --disable-wtmpx --disable-loginfunc --disable-pututline --disable-pututxline	404842 
运行不正常，没有pty，登陆后客户端停掉。


2014-8-28
1、使用dropbear以前的版本是可以正常运行的。0.49可以，0.50可以，0.51可以，0.51可以，0.52可以，0.53可以，2011.54可以。2014.65也可以嘛，为什么2014.64不行？好像确实不可以，奇怪的问题。悲催。改为2014.65吧。
2、内核2.6.31是2009年9月9日的。

2014-8-21
1、pc通过无线连上p10，也可以正常的进行pppoe拨号并得到安徽移动的地址。

2014-8-7
1、struct iphdr这个结构看来正好不需要考虑对齐的问题。

2014-8-6
1、把一个程序里面的socket值搞出来，另外一个程序来使用，发送返回-1。

2014-8-5
1、代小龙那里说单ap升级到10a的程序后，可以拨号了，但是上不了网，后来就没有来电话了。
2、使用其他端口向安徽的l2tp发送udp消息，也同样可以通过的，应该不会判断发送端的端口号。

2014-8-4
1、贵州陈军说有些cpe必须绑定mac才能使用，而有些必须不绑定才能使用。
2、贵州程兴超折腾一个单ap，发现改变信道信号就很差了，原因是单ap产品还有滤波器存在。

2014-8-1
1、代小龙那里的单ap，设置了vlan后就不能访问220了，奇怪的现象。当设置vlan后，即使设置的地址是192.168.0.54，在pc上设置管理vlan后，还是可以通过192.168.0.54这个地址来访问到单ap的。
2、江西李刚那里有一个站，总是出现华为设备检测到回环，将我们的设备断开的现象，他发现这个站出现一个mac有回环的情况，并且已经加入了黑名单。
3、贵州程兴超要求在单ap上设置最大用户个数。

2014-7-29
1、河北的cpe测试，使用迅雷软件下载50多兆的文件，开始5秒总是比较慢。

2014-7-24
1、当程序在死循环的时候，是不能接受kill发来的消息的。
2、至少要测试这样的表格：

序号	测试操作	预期结果	结果
1	Pc 端使用错误的用户名密码拨号	不能拨通	
2	Pc 端使用正确的用户名密码拨号	可以拨通	
3	Pc 断线	L2tp也断线	
4	Pc 端使用正确的用户名密码拨号	可以拨通	
5	Kill l2tp的那个pppd	Pc 端断线	


2014-7-19
1、使用passwordfd.so就可以向pppd传递用户名密码参数了。
2、使用如下方式可以在有多个出口的情况下让不同的机器走不同的出口：
内核要增加
[*] Networking support  --->
      Networking options  --->
[*]   IP: advanced router 
[*]   IP: policy routing 
 ip rule add from 192.168.0.93 table hp
 ip rule add from 192.168.0.22 table cpe 
 ip route add 192.168.0.93/32 dev br0 src 192.168.0.1 table hp
 ip route add 192.168.0.22/32 dev br0 src 192.168.0.1 table cpe
 ip route add default via 120.193.74.108 dev ppp0 table hp
 ip route add default via 120.193.74.93 dev ppp1 table cpe
 ip route flush cache
 iptables -t nat -F
 iptables -t nat -A POSTROUTING -o ppp1 -j MASQUERADE
 iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE


2014-7-18
1、在xl2tpd.conf文件中增加多个lac段，就可以发起多个session。
2、下面的工作应该是这样，先在cpe上增加一个pppoe server，然后可以通过其他方式上网。然后修改pppoe server的代码，收到需要验证的时候，把用户名密码提取出来，提供给xl2tp，让它建立一个session， 如果建立成功，那么返回给pc用户验证成功并且也建立一个对应的设备，并使用nat方式连接两个设备。
3、有个地方的网管已经和单ap联通了。
4、现在编译ncurses-5.8确实编译不了了，奇怪啊，以前应该是可以编译的。如果使用cpe-8m
的编译器就可以编译。
5、http://wenku.baidu.com/view/11ae1bdcad51f01dc281f1c8.html xp配置pppoe server的文档，但我也不记得是怎样装上pppoe 的协议的了。

2014-7-17
1、终于在p10上调出来了xl2tpd，原因是pppd的某个代码在gethostname时时间太长，导致pppd没有进入处理过程，而对端连续发送了多次协商包后发出了短线的请求，xl2tpd就kill的pppd，所以就无法上线了。
2、使用usb0拨通后，mtu可以设置为1467，而前天测试的以太网从记录看只能设置到1372，这其中还有什么区别么？
3、oute add -host 120.210.236.221 gw 10.203.22.181 增加对某个ip的路由。

2014-7-16
1、要在现有p10上增加ppp 内核支持 增加xl2tpd， pppd 增加拨号脚本，拨号后手工设置nat，如果pc可以上网，则最简单的任务完成。
2、在cpe-df上拨号成功，但在p10上不成功，估计是ppp的支持增加的不够，先全加上再说吧。加上了好像也没有什么用啊。
3、 ./tcpdump   -i  eth0  -s  0  -w  ./tmp/pcap 可以抓包给wireshark使用。

2014-7-15
1、在sccrq中增加 PPPoE Service Relay Forward Capability AVP 和PPPoE Service Relay Response Capability AVP 这两个avp，安徽华为的服务没有相应的回应。
2、在cpe上建立一个pppoe的server，参考
http://www.howtodoityourself.org/pppoe-server-how-to-do-it-yourself.html
但由于我的机器上本来就有一个pppoe的server，所以又去找一个http://www.raspppoe.com/, 结果还是不行。
3、拿到了安徽的用户名和密码，使用windows的华为客户端和linux下的x2ltpd均拨号成功。在windows下ping www.163.com -f -l 1372 可以ping到，再大就不行了，报需要分包，而在linux下的ppp显示的mtu 是1492，但是ping 对端地址-s 1435就不能ping通了，把ppp0的mtu改为1372，1530也能ping通了，但1540的包还是不能ping到，我猜可能是对端地址不支持这样的大包来ping。


2014-7-14
1、在5.8g的cpe上测试一下信道设置是否正确
信道号	频率	比特率	重启后
153	5.765	144	ok
161	5.805	144	ok
165	5.825	144	ok
如果是单5.8g的cpe，那么永远都是使用20m的频率了，这是否合理呢？

2、安装了颜斌买的抓包网卡，居然是个pcie的，往pci上装就装不上。这个网卡确实可以抓包的。但是这个网卡看起来不能使用wireshark来抓包，会报不能进入杂散模式的错误。

3、在SCCRQ的请求包中就包含了一个Assigned Tunnel Id，看来是1，而服务器的回应中，就带上了这个id，而且也有一个Assigned Tunnel Id，这个值就大一些，应该是这样，因为服务器处理的tunnel多一些，然后客户端每次发包，带上服务器指定的tunnel id，而服务器发包，则带客户端指定的id。居然这样来指定id，貌似其他协议中非常少见。

4、在icrq请求中，指定了session id这个字段为1。物理通道号为0，设置的呼叫序列号是1，没有设置呼叫的号码，而对端的号码是8888，看来老外对8888也有特殊的偏好？这个8888似乎没有从其他包中出现。服务端在icrp中则指定了session id 为一个较大的值。客户端回应的iccn包中，tx和rx connect speed的值都是0， 私有组id为全0。这样一个session就建立完成了，以下的过程是ppp的过程了。

5、Cpe切换ssid后，应该删除以下文件：
/tmp/.rssi  
/tmp/cpe_speed_mode  
/tmp/.inlimit
/tmp/.outlimit

2014-7-12
#cat xl2tpd.conf
[lac testvpn]
lns = 120.210.236.221
pppoptfile = /etc/ppp/peers/test.l2tpd
hostname = ltekd
challenge = yes
require authentication = yes
name = xingyong

#cat l2tp-secrets 
* * Amcc@123


2014-7-11
1、颜斌在北京测试，貌似是有的ap没有带wds功能，找了很久没有找到。
2、湖南叶巍处理一个站，以前使用正常，现在一个ap显示在线，但是为黑色，网络也显示为1g/full，但它上面的cpe不能拨号，不能ping到220。换ap板后，三个ap都可以拨号，但上网速度很慢。
3、谢文忠拿来的景德镇的三个cpe都是出现地址信息为00:000的情况。这真是个幽灵啊。
4、李刚说单ap不能访问管理vlan，应该是把ip设置成192.168.1.220的缘故。
5、安徽的l2tp使用华为的软件终于看到了第四步，还是华为的余敏发来了截图，发现是l2tp隧道名称应该是小写。

2014-7-10
1、刘谦那里在一个wds上发现有多个cpe的地址等信息出现多个00：000这样的信息，只好通过集中网管改掉它们。

2014-7-1
1、使用pppoe-3.8 + pppd 2.4.5可以拨通windows自带的pppoe server。原来是什么不可以呢？拨linux也是可以的。难道是2.4.4就不行？

2014-6-27
1、保定的测试基本结果和公司的测试差不多，ftp为6-7m，有能看到8m的时候。具体配置情况：cpe rts 256， ap固定速率，rts 1024, beacon_nob 1。

2014-6-24
1、ap-si清除了ap2的文件后，还有1.7m空间。

2014-6-23
1、ap-c5和网管相连测试，一个cpe连接，使用cped_fakepc不断做ftp下载，从周六下午跑到周一早8点，看起来一切正常。
2、Ap-c5使用中文ssid时，网管上直接是正确的中文。
3、把李柱栋文件中的cacert.pem这个文件读出来，写入一个字符串，使用x509_crt_parse这个都进去，就不会报自签的警告了。
4、邦讯的cpe的ip是192.168.1.1。Telnet为开放状态。有2个作为客户端的ssid，比较有意思。网页的速度其慢。对系统做了较大的改动，apdown和apup都不见了。网页使用登陆方式和tplink的一样。
5、单ap中的mcs改为7654，而5.8g改为13
6、生产反映单ap程序165信道时，启动是速度特别差，点击“无线配置”保存后变好，但需要每次重启都要点一次。没有理由，设置工作在每次启动后都会重做一次。从串口来看，程序确实启动的时候设置了一次，但是报错了，如果再点一下呢，就可以了。更换了参数设置中的次序后，就可以了。出ap-si程序7a。
7、Atheros sdk v10.1加入原来的系统，需要复制两个无线驱动的目录，复制一个sdk中的scripts，稍加修改就可以编译，而且运行貌似正常。还缺一个spec...的没有编译。

2014-6-21
1、ap_frequency要送“20m”而不是0？确实如此。ok
2、WireRecvNotSinglePackets这个值为什么是负值？

2013-10-29
1、这样的代码变得没有输出
		int *p;
		p = (int *)0x1900009c;
		printf("all rec byte: %p \n", p);
		printf("all rec byte: %d \n", *p);
而：printf(“%d \n”,  *(int *)0x1900009c) 程序就直接退出了。


2013-10-28
#!/bin/sh
mac=1
while [ 1 ]; do
        if [ $mac -le 10 ]; then
        echo 00:03:7f:30:00:0$mac > /proc/vap/ath0/deny
        echo 00:03:7f:30:00:0$mac > /proc/vap/ath1/deny
        else
        echo 00:03:7f:30:00:$mac > /proc/vap/ath0/deny
        echo 00:03:7f:30:00:$mac > /proc/vap/ath1/deny
        fi
        echo 00:03:7f:30:00:$mac
        mac=$((mac+1))
        if [ $mac -ge 101 ]; then
                exit;
        fi
done


2013-9-23
1、mcu程序在设置trunk时没有把ssid传下来，必须重启生效后才有效，不合理。

2013-9-18
1、cpe在没有搜索到网络的情况下，一直处于杂散模式。而搜索到之后，就一直不是杂散模式。

2013-9-17
1、[<87349764>] ar9300Set11nRateScenario+0x38c/0x84c [ath_hal]
[<87099814>] ath_buf_set_rate+0x404/0x6dc [ath_dev]
2、当ds为void *类型的指针时，强制转换必须写成这样的样子
flag = ((struct ar9300_txc *)ds)->ds_ctl11;
也就是必须再括号一次，否则编译就报错了。

2013-9-16
1、内核中可以简单的使用WARN_ON(1)显示调用堆栈。

2013-8-30
1、insmod umac 出现的是这些信息
ath_ahb: 9.2.0_U11.14 (Atheros/multi-bss)  //在os/linux/src/if_ath_ahb.c中
__ath_attach: Set global_scn[0]           //在 os/linux/src/ath_linux.c中
ACBKMinfree = 48
ACBEMinfree = 32
ACVIMinfree = 16
ACVOMinfree = 0
CABMinfree = 48
UAPSDMinfree = 0
Wasp Enterprise mode: 0x00000000
Restoring Cal data from Flash
Using Cal data from Flash 0xbfff0000
dfs_attach: use DFS enhancements
DFS min filter rssiThresh = 18
DFS max pulse dur = 151 ticks
ath_get_caps[5184] rx chainmask mismatch actual 1 sc_chainmak 0
ath_get_caps[5159] tx chainmask mismatch actual 1 sc_chainmak 0
SC Callback Registration for wifi0
wifi0: Atheros 9340: mem=0xb8100000, irq=2
ath_pci: 9.2.0_U11.14 (Atheros/multi-bss)

2013-9-3
1、echo 11111 > /proc/var/00037fd5038c ，里面取到的数据居然是0x31313131310a， 不明白这个0x0a从哪里来的。

2013-9-2
1、一直改错了文件，所以永远有奇怪的问题，郁闷啊。

2013-8-29
1、打流短包不行是要设置AMSDU为0， 9331没有这个功能，所以效果不错。
2、如果git上有多个功能性的分支，有时候要出测试版本又要组合这些功能，那么就要使用rebase这样的功能，如果随意rebase可能会有奇怪的效果，那么保险的做法是把各功能性分支先rebase到master，然后选择一个分支作为基地，另外的分支呢，要建一个分支的分支，再rebase到基地分支去，编译完成后，可以删掉分支的分支。这样就能保持功能性分支不受影响，可以继续开发。

2013-8-28
1、static const iw_handler ieee80211_priv_handlers[] = {这个数组最多只能有32个值，这是由SIOCWFIRSTPRIV这个宏的位置决定的，在内核的处理中，int dev_ioctl(struct net *net, unsigned int cmd, void __user *arg)这个函数将会限制，限制的原因在这里：内核代码include/linux/wireless.h 有如下说明：
#define SIOCIWFIRSTPRIV	0x8BE0
#define SIOCIWLASTPRIV	0x8BFF
/* Previously, we were using SIOCDEVPRIVATE, but we now have our
 * separate range because of collisions with other tools such as
 * 'mii-tool'.
 * We now have 32 commands, so a bit more space ;-).
 * Also, all 'even' commands are only usable by root and don't return the
 * content of ifr/iwr to user (but you are not obliged to use the set/get
 * convention, just use every other two command). More details in iwpriv.c.
 * And I repeat : you are not forced to use them with iwpriv, but you
 * must be compliant with it.

2013-8-27
1、ieee80211_beacon_init这个函数似乎会每30秒调用一次。
2、如果修改了主目录的权限，那么putty的自动登陆就不能用了，还好在/var/log/secure这个文件中有这样的描述：Authentication refused: bad ownership or modes for directory /home/jian

2013-8-26
1、使用nomachine的客户端连接centos，说明：http://wiki.centos.org/zh/HowTos/FreeNX
2、在77这台机器上，一直是iptables编译不了，修改其Makeifle,，注释掉#am__append_3 = utils就可以了，也不知道从autogen.sh如何产生这句话的。
3、find /var/log/ -mtime -3 找出3天内修改的文件
4、sudo mkdir /media/cdimage  ＃建立一个文件夹作为ISO挂载点
   sudo mount -o loop myfile.iso /media/cdimage   ＃挂载ISO文件，使用参数 -o loop
5、编译wine需要gnome-desktop-devel这个东东，也要下载20m的东西。
6、yum install wqy-zenhei-fonts.noarch 这样centos网页上就可以显示中文了。

2013-8-23
1、gitk . 就可以在图形界面上查看当前目录的log了。
2、昨天的问题在于做ioctl的时候传入的buff比驱动认为的要小，所以产生了内存不正常的覆盖，这样任何奇怪的问题都不奇怪了。

2013-8-22
1、发现奇怪的现象，ap程序收到第二次心跳包时，取参数就取到空值了，就重启啦。

2013-8-21
1、我机器上的centos的tftp server有问题，从cpe上下载，有些文件可以，有些文件就报Permissiion denied。奇怪的事情。把这个文件复制到windows上的tftpd目录，就可以下载了。
2、笔记本上的minicom有些奇怪，如果使用鼠标双击会发送一个0x03下去。

2013-8-20
1、有时候cpe和mcu之间没有联系上，这样cpe的信息就会出现在mcu网页的其他cpe的那个列表中。
2、几种cpe之间的flahs划分都是不一样的，这样还是不太好啊。

2013-8-19
1、即使在最新的内核代码中，br_fdb_update这个函数貌似也没有修改过，对于“这个告警”，也没有额外的处理。

2013-8-18
1、在网桥的代码中，如果在br_fdb_update中出现“own address as source address”的提示的地方把这个包丢弃，貌似没有什么作用。如果这个时候把这个if的状态设置为block，那么有奇怪的现象在于，如果启动的时候，eth1所接的口存在环接现象，那么看起来就正常起了作用，如果运行时去环接，那么就很快重启了。

2013-8-16
1、使用apup是可以产生多个ssid的，主要要修改这些参数：MAX_VAPS_PER_RADIO，这个值默认没有，要增加。AP_RADIO_ID_2，这个值原来是1，要改为0。再把AP_STARTMODE=multi，这样就出现了2个ssid，而第二个ssid占用的是5g的那个，所以这个脚本还需要修改一些地方。
2、关于brctl的stp功能，stp是要发送stp的管理包来进行判断的。如果一个网桥的两个网络接口被串接，那么stp功能是有效果的，如果一个网桥的某个网络接口下存在环接的情况，那么这个网桥的stp功能貌似是无能为力的。
3、公司测试中再次发现有ap重启后断线的情况，这时候，ap上的phy灯不亮。ap重启，mcu重启都没有作用，这样ap硬件reset一下才能用。

2013-8-15
1、写16m的flash那个文件拼接器还有问题，它的buff只开到9m，而再开大，运行的时候直接报段错误。只有动态开辟了。其实也可以考虑设置为全局变量可能也可以，局部变量应该没有那么大。
2、接入其他厂家cpe导致ap挂掉的，考虑使用cwm的功能来完成，每一个小时固定做一次的功能不知道什么时候已经去掉了，而mcu网页上也不能设置0个活跃数量，这样只有设置为1个，并且设置80%的掉落开启，不知道有没有效果啊。如果当前ap一个我们的cpe都没有，那么这个功能就很难启动了。
3、张现那里测试cmcc，发现计算机得到的ip是192.168.0.20，这是比较奇怪的事情，如果那个开始地址没有设置，就会变成这样。要改。
4、5.8g的ap启动apup1根本没有判断加密的东东，所以无论怎么设置参数都是无效的。都是未加密模式。
5、四川那边有些机器从网管的机器上不能打开mcu的网页，非常奇怪的现象。Telnet可以进去，但很多指令执行后不动了。后来发现ping1500的包过不了，应该是移动网络有个设备卡住了大一点的包，导致这样的问题。

2013-8-14
1、打印64位的值应该使用%lld，否则就不对，不对。
2、使用16m的flash看起来没有问题，但是设置到32m后，内核就在parse_cmdline_partitions这个函数中报错了，打印除master->size这个变量，发现只有8m了。看来还是要到初始化的函数中去跟踪一下。
3、在u-boot中#define ar7240_spi_send_addr(__a) 这个宏只写了24位地址，当然只能用16m了。不过修改了这里，uboot写了内核后报的是magic word错误，应该还是写错了地方。既然朱建文都说只支持16m，那就不要管这个问题了。
4、那个cpe再次发生没有分时控制的情况。这一次ps可以出现，没有停止响应，dmesg也没有发现报错的日志。看log也没有发现分时包。杀死cped后再运行，貌似正常了，但很快重启了，这个重启比较奇怪。只能猜测说也许是系统正在重启吧。
5、上传文件md5错误的问题，袁考伟做了个程序，在/tmp下生成一个4m的问题，算md5，和预先值进行比较，没有发现有错误的情况，但运行了2次，一次运行了1000多次，一次运行了100多次，最后都重启了。拆掉外壳，插上串口，再次测试了23080次，有2次错误，也没有重启。

2013-8-13
1、碰到一台奇怪的cpe，它的速度比其他cpe快，看它的分时控制是关闭的。Cpu占有率特别高，达到了7，ps后无响应，但又可以再次telnet进去，cat /proc/11??后，同样停止响应。打开日志，发现仍然收到心跳包，但没有分时包。Dmesg发现有错误发生。推测是这样的，错误发生后，系统试图重启，杀死了接收分时包的线程，但停了下来，重启没有完成。

2013-8-12
1、ap板增加5.8g双流后，发现总速度无法超过19m，而且会出现死掉的情况。死掉的情况下，如果不运行apd，是可以继续运行的。说明是apd没有能够得到运行时间而没有喂狗而造成的重启。
   去掉ebtables的支持mod，速度没有改善，但cpu占有率有所下降。
   如果修改apd程序，使得cpu占用率减少，那么貌似也可以达到不死的目的，但是速度总是上不去的。
   使用中兴的ap，可以轻松达到30m。
   使用demo板，可以达到35m。
   把demo板上的flash搞下来，放在自己的板子上，更换了gmac驱动后，速度也可以达到35m
   更换内核到原来的ap程序，也就是没有增加netfilter支持时，速度也上去了。同时单个cpe的单个下载线程的速度也从3m多提升到9m。

2013-8-6
1、如果把5.8g的cpe的内核改为不支持netfilter的内核，看不到特别的改善。

2013-8-5
1、内核和无线驱动之间不配合会导致无法连系。

2013-7-30
多次统计效益和的脚本。
IP=$1
FILE=$2
MD5=$3
ok_sum=0
fail_sum=0
while [ 1 ]; do
        tftp -g ${IP} -l ${FILE}
        MYMD5=$(md5sum ${FILE} | awk '{print $1}')
        if [ "$MD5" = "$MYMD5" ]; then
                echo ok
        ok_sum=$((ok_sum+1))
        else
                echo fail
                fail_sum=$((fail_sum+1))
        fi
        echo $ok_sum $fail_sum
done

2013-7-23
1、在vi中使用:set fo-=r 来去掉自动注释
2、Git增加仓：在249上：
   #su -git
   #cd /respisitortes
   #mkidr XXX.git
   #cd XXX.git
   #git init --bare
   然后在修改权限仓。

2013-6-20
1、busybox1.21中的brctl没有show macs功能了。

2013-6-13
1、在cpe上进行pppoe后，如果keillall pppd那么会导致cpe重启，奇怪的问题。这个kill会把所有的进程都kill掉。而killall pppoe则没有问题。

2013-4-7
1、统计iwconfig中-96次数的脚本
count=0
while true
do
echo checking...
isup=$(iwconfig ath0 | grep "Signal level=-96" | cut -c11-15)
echo $isup
if [ -z $isup ] ; then
        echo ok
else
        count=$((count+1))
fi
echo $count
sleep 1
done

2013-2-27
1、cpe-df的nat方式貌似是正确的。没有加dnsmsq这个东东。

2013-2-19
1、iwpriv wifi0 6MBAck，似乎没有对0想8108004这个寄存器进行操作，而且这个get指令居然是get5mback，神奇。如果把ath0 down up一下，寄存器的值才进行了修改。
2、如果直接修改寄存器的值，那么iwpriv得到的值就是错的，这样就无法确定到底是哪个值在起作用。

2013-1-30
1、如果在ftp软件限速400k，那么会变成355k
2、如果只有10个cpe时，下载速度很稳定，但30个cpe连接时，10个cpe下载速度也不稳定。
3、30个cpe同时下载，如果不采取措施，速度只有1m多。而采取措施，那么有降到0的情况。

2013-1-20
1、iptables -A INPUT -j DROP 有效
   iptables -A FORWARD -j DROP 无效
   ebtables -A FORWARD -j DROP 有效
2、如果ath0和eth1的两个地址在同一个网段，那么就ping不通啦。

2013-1-15
1、六塔这个站这几天反应非常慢，修改配置50k->20k空闲带宽，60s->45s,处理间隙 8->7处理个数后，测速能到达300k，而之前只要不到100k，这也是非常奇怪的事情。
2、双流的cpe改为16m就只有很少的内存，去掉pktlog这个ko，可用内存也只有1.8m。而9331的能有5-6m。

2013-1-14
1、在makefile中，变量似乎不能放在执行语句中，只能在全局定义处，否则无效，奇怪啊。
2、Sed要修改文件，使用了-i参数就不能使用>file的方式，这样写到另外一个文件可以，而写到源文件，源文件就会变空。

2013-1-7
1、人为制造环路之后，只要ping 一个不存在的ip，那么就会产生广播风暴，ap的灯狂闪，在ap上打开网桥的stp功能后，brctl stp br0 on 后，广播风暴消失。
2、当广播风暴发生时，那个抑制广播风暴的寄存器似乎没有起到多少作用。

2012-12-24
1、grep -c应该是统计个数的功能。
2、可以使用/etc/ath/killVAP  ath0来停止ath

2012-12-22
1、cpe-5g似乎不需要修改0x30这个swith的寄存器，也可以ping到1000的包。即使把这个值改到0x1bf005ee，也没有任何意义，同样到3000也ping不通。

2012-12-18
1、奇怪的问题，gpio16无法控制，而gpio14则没有问题。12也可以控制。

2012-12-17
1、增加pppoe的选项似乎不会改变gmac.ko

2012-12-10
1、在工厂测试，使用某个cpe可在1.3公里处使用，而另一个则不能，更换了不行的rcS, rc.changessid等文件，都不行。Ap端使用19a, 19c都是一样的。而在600m处，都可以正常下载。

2012-12-7
1、当ap上使用了买来的小天线后，ap版的表现就不怎么正常了。
2、即使cpe设置为4094的vlan，pc不能访问到mcu。

2012-12-3
1、如果内核中的网络参数变化，那么gmac这个驱动就会变化，如果两者不对应，那么系统就报错并停止响应了。

2012-11-29
1、如果字符串为NULL， 那么strcmp是有问题的。

2012-11-28
1、可以用-mlimit --limit-burst实现限制突发数。
2、如果mcu传来的ssid中存在空格，而记录时空格会被删掉，就会产生ap不停复位的情况。

2012-11-21
1、ebtables -A FORWARD -i ath0 -o ath1 -j DROP
ebtables -A FORWARD -i ath1 -o ath0 -j DROP
这两句能够阻隔ath0和ath0之间的包。

2012-11-20
1、iwpriv wifi1 getCountry得道国家代码，不知道这个国家代码和ath0 的countrycode有什么区别。

2012-11-19
1、有两块ap板的校准区都被擦除，奇怪的事情。

2012-11-16
1、busybox 中的ping -s参数必须在ip之前，否则无效。

2012-11-13
1、5g，如果把aus设置为20m，那么cpe显示的就是72.2m，下载速度3m多些。如果aus设置为20/40，cpe显示就是150m，下载速度可以到10。

2012-11-3
1、如果关闭双庙的半分钟cwmenable 0，改为3分钟，很快就出现不能ping通的情况。

2012-10-31
1、去掉了双庙的400k空闲选项，因为掉线严重。
2、挂墙终端，使用自己的模块，使用option.ko来加载模块，正常加载，貌似正常拨号，但不能连到服务器，使用modprobe加载，则正常。奇怪的问题。
3、挂墙终端，在一个有系统的板上，再次tar上文件系统，很快就没有可用空间了，重启后，可用空间恢复。

2012-10-11
1、如果cpe下载时，将限速值从800->20，就容易出现cpe复位的情况。从dmesg的显示来看，由于内存不足，导致某个进程开始胡乱kill，如果把cped kill掉，那么就要复位了。

2012-9-13
1、ap程序中的清除黑名单的操作，只在有客户端的情况下才会做，所以会出现没有合法用户时，黑名单愈来愈多的情况。

2012-9-7
1、编译网络驱动时要编译一下内核，否则可能会无法编译通过。
2、ap板网口设置为10m时就不能ping 出去了。

2012-9-6
1、busybox似乎没有对时程序。

2012-9-3
1、在apd中启动httpd，信息查看和客户端列表两个页面就无法打开，只有在后台运行一个脚本，由这个脚本打开httpd，就没有问题。

2012-8-31
1、当pc上有虚拟机时，命令行中brctl showmacs br0 中看不到虚拟机的ip，但上送的网管包中存在。
2、公司的机器出现mcu未收到ap的心跳包的情况，重启ap无效，vlan表正常，重启地板无效，整机断电重启，恢复。

2012-8-30
1、编译内核使用的是make BOARD_TYPE=… lzma_uimage命令。

2012-8-28
1、有一个基站的某路ap数据恢复到了athros的原始参数，但ssid似乎没有改变，没有触发我修改参数的条件，非常奇怪的现象。

2012-8-26
1、内核中ar7420居然没有对应的程序。

2012-8-20
1、搜网不能ping时，使用cwmenable指令可以立即恢复。

2012-8-18
1、如果点搜网，ping会断线，但10分钟左右会恢复。
2、在南昌抓包时发现有athors的mac

2012-8-15
1、在一个位置上，移动5m就无法ping到长包，决定更换天线角度。

2012-8-13
1、如果出现环行，网络明显不行了。

2012-8-10
1、makefile文件中在命令前加-，可以忽略命令失败。
2、wlanconfig ath0 list ap查出来的东西不全，虽然速度很快。

2012-8-8
1、jffs的文件格式有问题，下载网卡驱动ko失败后，使用串口下载整个文件系统，那个文件还是0字节，删除后重启正常了。

2012-7-24
1、ap将速度写定，似乎能解决某个cpe信号差导致的全面速度下降的问题。

2012-7-23
1、修改cpe的以太网mac，使得以太网的mac大于无线网卡的mac

2012-7-20
1、网卡的编译是enet_build
2、mcu离线应该能正常工作。

2012-7-19
1、cpe的apup是正常的，为什么ap上的apup不行呢？
2、cpe更换ap后，就通不了了，除非重启sw_main。
3、在程序中运行cfg –c容易引起参数重置。

2012-7-18
1、ap在程序中apup是有问题的，还是要去掉它。
2、9331使用的是ar7240，9344使用的是athros。
3、ap有参数重置的现象

2012-7-17
1、有些浏览器上传文件会带上目录。
2、运行了两个sw_main，把ap升级出问题了。
3、如果启动了cped后，修改了相连的ap，那么是无法向正确的地址发送mac数据的。
4、pppoe测试正常。

2012-7-16
1、cpe网桥断开再连上似乎没有什么影响，其序号是不变的。

2012-7-15
1、cpe上报的速度限制是错误的。

2012-7-14
1、192.168.1.2这个机器居然不能解析dlinkddns.com.cn的地址。
2、cpu的占有率貌似和uptime显示的是一样的。
3、cpe和ap上报的rts值应该为当前值，而不是存储值。

2012-7-13
1、如果没有收到mcu的信息，就多发几次吧。
2、某个apd程序如果自动起来，会把后来增加的参数清除，奇怪啊。
3、cpe指定升级ok

2012-7-12
1、cpeled程序中的delay没用清0，低级错误啊。
2、ap自动设置ch，自动设置mac啦。
3、设备如果自动运行apd居然有时会死掉，会死掉。
4、没用close文件时，写flash文件可能根本不操作。
5、我到电脑上delphi都不能运行啦，重启才可以，到底在做啥？

2012-7-11
1、建立base文件比较目录，完成差分包自动完成。
2、修改busybox，不再带入编译日期。在busybox.h中的BB_BANNER这个宏。
3、optbuild这个目录，在makefile中是用IMAGE_ROOT来表示的。
4、ap做升级包的时候，会有一个debug.tgz的东西每次都变化。
5、awk中本来就有length函数，如果使用脚本中的函数，是没有用的。
6、将差分文件名改为会被自动忽略的.patch。
7、apd不再自动关闭无线。
8、总共才4862行程序。

2012-7-10
1、增加在线时长和cpu占有率的上报。
2、按照要求设置mac
3、art.bin压缩情况下非常小，只有558个字节，可以考虑放进文件系统内，以防不测。

2012-7-9
1、为什么在cpe syslog中有时只有receive packed cmd=3，但没有包内容呢？
2、自动设置ch值

2012-7-6
1、使用system（tar ）出来的系统的所有者是ap71，奇怪。
2、ap cpe增加GATEWAY参数，自己用得方便一点。
3、cpe升级成功。
4、为什么所有system(tar。。。)的文件的所有者都是ap71呢？
5、需要在makefile文件中自动生成升级文件。

2012-7-5
1、内核如何增加版本呢？
2、du和df两个值是不一样的。
3、cpe发送给ap的包，在pc上也能监听到，奇怪啊。
4、mcs设置到39m以上就不通啦，有些板子又可以设置到39m。

2012-7-4
1、升级成功。
2、升级内核也没有什么问题。
3、为了方便程序，修改协议，一次下载多个升级的内容。

2012-7-3
1、update.c需要多个变量，把这些变量集中到一个结构中吧。
2、windows的网卡驱动去掉了vlanid，所以抓包的时候没有vlan 信息。Marvle Yukon这个网卡是可以通过注册表修改保留vlan信息的。
3、um这个东西在狂发arp请求包。

2012-7-2
1、把rc.led这个东东换成了程序，cpu减少了，但它依然高居榜首。
2、使用一个update.c来完成两个设备的升级吧。
3、瑞科nw336这个无线网卡是可以加入网桥的。
4、升级过程中是否应该加入额外的线程？
5、update.c如何区分是在apd中还是cped中？

2012-6-29
1、网络掉线后，升级程序似乎还在运行，并升级成功啦。
2、把top和uptime加入后，ethreg居然不好使了？
3、ap中居然没有rc.changessid，没有初始化过程。

2012-6-27
1、增加远程日志支持
2、ap增加syslog后，行为也有所变化。

2012-6-26
1、定义可变参数：
#define   LOGSTRINGS(fm,   ...)   printf(fm,__VA_ARGS__)
2、rc.led这个程序居然占用了主要的cpu
3、加入top和uptime后，ethreg这个applet居然消失了。
4、9331使用的是ar7420/gpio.c， 9344使用的是atheros/gpio.c

2012-6-25
1、cped如果长时间没有收到mcu的心跳包，那么就重新向ap发送心跳包。
2、读/version中的版本信息。

2012-6-19
1、加载光驱mount -t auto /dev/cdrom /mnt/cdrom
2、yum--disablerepo=* --enablerepo=c6-media使用光驱作为源。

2012-6-14
1、使用这个指令来修改一下vim的配色方案，默认的配色注释是蓝色的，在黑底的情况下根本看不清
 echo "colorscheme koehler" >> $HOME/.vimrc
2、又碰到一个无线无法启动的情况，下次要好好分析一下。
3、ath_bstuck_tasklet: stuck beacon; resetting (bmiss count 9)是什么意思？

2012-6-13
1、cfg中有严重的问题，cfg –a =3后，网络就无法启动啦
2、在server的文件系统中也加入version文件。
3、升级前一定要kill掉那些还在使用文件系统的程序，否则其报错会显得无穷尽。
4、使用定时器来发送cpe的心跳包。

2012-6-12
1、git status .可以快速看本目录的改变。

2012-6-8
1、如果向ti3517大量PING包，那么socket.arm.ok这个程序会占到0.3~0.7%的cpu, 0.2%的mem，但laodaverage还是3个0。
2、如果运行的是apd，那么大量ping包时在top中看不到apd。
3、昨天增加bridge显示bridge中所有的macs时，会出现一个str[0]=[] too short 的提示，为什么今天没有了。
4、可以收到李柱栋发来的包了。

2012-6-7
1、ap监听两个type时，如果使用一个全局变量socket，就不对啦。
2、使用putty时，如果在两个putty的vi中复制和粘贴，那么tab就会变成空格，而从si中向putty中的vi复制时就没有这个问题。
3、转发包为未知mac而成为时，对无线部分似乎发送的少，而在有线网络上发送的多。也许是无线网络已经被cpe狂发所占住了。
4、转发包使用有vlanid时，使用wireshark抓包时，vlan头消失了，而应该是存在的，在arm上接收上是存在vlan的。

2012-6-6
1、可以使用git-svn来下载svn仓的东西，会自动根据提交的历史来生成版本。
2、tlog.c中已经有string到mac的转换。
3、狂发包被禁止的问题，貌似如果不是发广播包就问题不大。

2012-6-5
1、如果监听是选择的是eth0，而eth0在桥内时，就监听不到包。改为监听ath0就好了。
2、set11NRates可以设置cpe的网速，这个值称为mcs。设置了这个值后，必须设置set11Nretries才能正常工作。否则一旦发包，就报连接丢失。
3、把原来做的一些东西上传了。
4、optbuild目录中的可执行文件的减少比strip还有多。

2012-6-4
1、当cpe狂发包一段时间后，就无法再发出包了，在无线监听上也没有了包的踪迹。
2、发包程序中，设置vlan后发的包是对的。
3、还有好多需要设置的参数啊。

2012-6-1
1、考虑在一个目录中写apd和cped两个程序，而网络收发包程序则ln李柱栋的文件。

2012-5-31
1、apcfg是处理默认参数的。
2、客户端和ap的进程中都看不到hostapd这样的进程，其中client端去掉hostapd也可以正常跑起来。
3、增加vlanid似乎比想象的要复制的多。
4、不同的cpe可能会有网速限制。

2012-5-30
1、设想了一个通用的发包函数，但还有结构内字节对齐的问题，所以不是很完美。

2012-5-29
1、使用李柱栋的程序，如果使用原来的broadcom的编译器编出来的程序，是无法运行的。
2、发送是正常的，但发给ap的似乎会收到两次，非常奇特的地方。

2012-5-28
1、当前程序对网络包是监听方式的，不是拦截方式的，要达到拦截的目的，似乎有些困难。
2、升级过程应该由MCU控制

2012-5-27
1、busybox的brctl中，fdb_entry中存在prot_n这个变量，记录了mac所在的端口。
2、rc.wlan只是加载了驱动。

2012-5-26
1、git可以运行git gc来减少文件的占用。
2、加入rts/cts后，性能下降了10-20%。

2012-5-25
1、昨天李柱栋所说的自定义网络类型的包不能再utag的情况出来，可能是发包程序错误。源于王伍给的原来的pppoe拨号的程序中的memcp函数多复制了一些东西出来，可能是由于内核变化后结构的大小有所变化。

2012-5-24
1、仍然会有tun0，tun1同时出现的情况。
2、git不会保留空目录，这样对有些仓会造成困扰，解决方法只有两个：在空文件夹中增加.gitignore文件，或者make时自动创建这些文件夹。
3、/proc/net/arp中有arp表，看起来也会定时删掉一些文件。
4、限速需要一种算法。
5、抓包能发现，即使没有设置rts，也会出现一些rts/cts的包，而且不仅仅是client发rts，ap发cts这么简单，ap也有可能发rts，client也有可能发cts。

2012-5-23
1、今天的测试看来限速是增加用户数的主要手段。

2012-5-22
1、无线抓包是可以抓到的。
2、busybox中带有ethreg，可以对phy的寄存器进行读写。
3、当内核中的参数和athr_gmac.ko编译时参数不一致时，加载athr_gmac.ko会挂掉。

2012-5-21
1、如果在update系统的时候rc.led还在运行，那么会不断显示jff2的错误信息

2012-5-18
1、增加了对cpe上面的led控制。
2、cpe内核增加64k空间

2012-5-17
1、在cpe中使用(sleep 60 && apup) &实现无线的延时启动会有问题，原因未知。只有直接执行apup才可以。
2、在驱动中，使用printk只能向错误控制台写，而如果是telnet等登录的控制台，就必须使用read中的pages等参数。

2012-5-16
1、cpe换为8m的flash,并增加iptables等编译，sdk中的iptables-1.4.5和1.4.5-qos都编译不了，而最新iptables-1.4.13可以编译。

2012-5-14
1、在apup里面增加对rts的控制。

2012-5-12
1、脚本中增加有线网络的速度控制。

2012-5-11
1、增加文件/proc/phys26/inlimit & outlimit，实现对cpe有线网络的速度控制。

2012-5-10
1、cpe增加文件区的空间，压缩u-boot，去掉u-boot-env区，减少kernel区。
2、去掉cpe的内核fat支持。
3、去掉cpe的内核usb支持。
4、增加cpe的txpower支持。

2012-5-9
1、cpe的jffs2文件系统删除一些不需要的文件。

2012-5-8
1、cpe支持jffs2文件系统了，原因在于u-boot中使用命令行设置参数时，这样写setenv bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),2752k(rootfs),896k(uImage),64k(NVRAM),64k(ART)是不行的，bootargs后面的=是不要的。教训惨痛啊。
2、增加/proc/phys26/reg文件对s26 phy的寄存器进行控制。

2012-5-4
1、mac程序对eth0, eth1写不同的mac
2、自动启动httpd –h /tzwww
3、制作cpe文件系统时，把http://192.168.1.123/svn/bigap_web中内容带上。

2012-4-28
1、update程序中，仅仅修改了一点提示的东西，就无法升级了。奇怪的问题。

2012-4-26
1、修改mac程序，无参数是读数据
2、cpe中编译增加art.ko和nart.out
3、去掉模块版本检查：修改scripts/setlocalversion文件，将git部分的代码注释掉，这样版本号中就没有乱七八糟的gxxxxxx-dirty的字样了。

2012-4-25
1、仅仅设置这个CONFIG_MODULE_FORCE_LOAD=y
# CONFIG_MODVERSIONS is not set

2012-4-24
1、自己写一个升级程序是可以的，但系统无法自己重新启动，拔电后可以的。
2、从一个简单的系统要可以编译，需要安装以下东西：git, make, gcc, bison, flex, gettext, patch, gcc-c++, ncurses-devel, sharutils, zlib-devel。

2012-4-23
1、u-boot改回千兆似乎问题依旧，不管它了，就让它在百兆跑吧。
2、9344的uboot编译似乎有些怪异，如果编译整个的代码，会编译，但不会复制到tftp的目录中去，而如果单独编译，会报没有tozedap的make目标。
3、在9344上采用dd的方式就可以升级文件系统。而在9331上，dd显示的块数也没有什么问题。
4、mtd char设备号是90，而mtdblock的设备号是31，这在dev.txt中有体现。

2012-4-22
1、把9311上的/dev/rootfs定义为快设备，可以直接进行写操作，但写到0x135c00就不写了，而整个文件的长度是17acd0。

2012-4-21
1、pc上的sscanf和9344上面的表现行为完全不同。
2、9311上存在/dev/nvram和/dev/caldata两个目录。9311的config中定义了ATH_CONFIG_NVRAM。
3、对于9311来说，要改的是eth1?
4、9311上的/dev/caldata不能直接写，而9344上的可以直接写。两个设备类型不同，一个是字符设备，一个是块设备。
5、使用ioctl可以对flash进行擦除动作。

2012-4-20
1、交换芯片上去掉一个电阻，去掉802.3的自动休眠，貌似就没有问题了。两个星期啊。
2、如果没有设置ATH_countrycode，那么就貌似在rc.wlan脚本中就会指定到美国去。
3、可以使用先擦除再写的方式来升级内核。
4、/dev/caldata中的内容就是art的内容。

2012-4-19
1、从art区开始6个字节是eth0的地址，然后是eth1的地址。而ath0的地址从0x1002的位置。参数区9344在art区0x8000位置，而9331在单独的nvram区。
2、/dev/mtd0是字符设备，而/dev/mtdblock0是块设备，映射的是同样的地址。
3、发包程序中，有线用3，无线用4，就可以广播发送数据了。有意思的情况有两个：两个无线终端之间，是无法收到的。还有就是从arm上发下来的包，ap和cpe收到的数据都在后面增加了一些数据，尚不清楚这些数据的含义。
4、iwpriv ath0 ap-bridge 0的确有用，但在网上似乎没有搜到过这个设置。

2012-4-18
1、在9344中如果使用echo 0 a100  > /proc/ar8035/reg强制到100m，那么就貌似也没有什么问题了。
2、9344中的两个mac控制器的地址是0x19000000和0x1a000000。
3、如果使用标准接法，pc使用自动获得地址，是可以得到局域网内的某个dhcp服务器的地址的。
4、art一定会编译，但不会放入文件系统。
5、INSTALL_ROOT是带有.build的目录,而IMAGE_ROOT是.optbuild的目录，它首先复制INSTALL_ROOT目录中的所有文件，然后执行了一大段操作。

2012-4-17
1、git config --global user.email jianliang@sztozed.net
git config --global user.name jianliang
2、如果把u-boot强制设置为100m，那么传文件就不会显示问题了。
3、使用无线，用电脑和ap相连，使用ping tester这个工具，共ping了1686700 lost:830 失败率为0.05%。
4、ap,cpe相连，使用teletest的测试卡来测试，仅仅能保证在2M的情况下不怎么丢失包。

2012-4-16
1、电脑之间的ping，看来是完全没有丢包的。
2、网卡驱动是linux/drivers/etherne/arthrs_gmac.ko

2012-4-15
1、许多种奇怪的现象。不写了。

2012-4-14
1、修改9寄存器改为从模式，貌似在某个位置是正常了。

2012-4-13
1、奇怪的现象是，如果在外部向9344快速ping包，那么9344向外ping包就没有什么问题，否则ping丢包就很严重。
2、u-boot传文件仍然问题很多。
3、如果去掉取寄存器的做假，还是会有网卡up之类的消息蹦出来。
4、在100m的情况下u-boot是正常的。

2012-4-12
1、编译9344时，hostap-0.7.2下没有.o文件，编译9331时，athr_hostap下没有.o文件，所以看来9344使用的是特别的athr_hostap。
2、9344的内核放在9331上是无法运行的。
3、linux的清屏指令是clear
4、使用dd指令可以成功的把flash写0，貌似没有什么作用。但如果直接写文件内容，那么就是错的，应该是和flash必须擦除有关。
5、可以使用rm dir –rf && git checkout dir/* 快速恢复文件。
6、好容易编译出来一个flash_earse，擦除非文件系统区，就能返回，否则，擦除后就没有动静了。看来要做一个非常小的系统来工作？

2012-4-11
1、服务器249的机器时间居然超前了1天，停电后linux的时间也就变成了12日，对时后发现网卡驱动编译不了了，而重新下载的东西的干净环境则还是可以编译。
2、将当前时间写入硬件：
	hwclock –systohc
3、使用s17的phy驱动的u-boot还能收到几个包，而使用803x的呢，一个都收不到。但进入linux后就好些。
4、apps目录下的hostap-0.7.2和athr_hostap目录下都有.o存在，所以不知道是用的哪个。
5、使用dd命令可以方便的将文件的一部分复制到另外一个文件。
	dd if=xxx of=xxx bs=1 skip=800 [count=900]
6、如果要仅仅编译网卡的驱动，make enet_build

2012-4-10
1、自动编译的脚本也很简单：
rm bigap -rf
git clone git@192.168.16.249:bigap
cd bigap/ar9344/build && make BOARD_TYPE=tozedcpe
cd bigap/ar9344/build && make BOARD_TYPE=db12x ETH_CONFIG=_ar803x
2、cgi的源程序在drivers/wlan/os/linux/tools目录中，有两个文件cgiMain.c和wlancfg.c两个文件组成。
3、只找到gpio13作为lan灯是在0x18104070这个寄存器来设置的，但没有找到代码中有什么地方对它进行了控制。现在可以换到gpio18来进行操作。这样三个灯是：gpio0, 17, 18 其中0这个还要在makefile中取消无线对灯的控制。

2012-4-9
1、调整了一天的phy，其实8023这个phy从本质来说只需要设置两个寄存器：debug 寄存器0和debug寄存器5，设置一下rx/tx delay。
2、把phy_reg_write和phy_reg_read这两个函数的第二个参数由0改为4，那么u-boot和内核都能读到phy id，u-boot中的两个设置语句
      phy_reg_write(unit, 0, 0x1D, 0x0);
    phy_reg_write(unit, 0, 0x1E, 0x82EE); /* 0x02EE - no delay, 0x82EE - rx delay*/
    //val = phy_reg_read(unit, 0, 0x1E);
    //printf("Debug reg 0x0 = 0x%x\n", val);
    /* delay tx_clk */
    phy_reg_write(unit, 0, 0x1D, 0x5);
    phy_reg_write(unit, 0, 0x1E, 0x2D47); /* 0x2C47 - no delay, 0x2D47 - tx delay */
  把后面的读的语句放开，也正确读到了设置的值。
3、调整其他设置模式作用不大。
4、文件系统中resolv.conf并没有搞成到可写的地方的链接。
5、把db12x中的www文件复制到ap121上是可以使用的。在db121中ap_type定义为dual，而ap121中定义为single。

2012-4-6
1、bug：使用make BOARD_TYPE=tozedcpe编译出来的文件系统没有加载网卡驱动。
2、增加makeflash，直接生成完整的tozedcpe.bin。

2012-3-31
1、9344选择的flash是S25FL064A@SOIC16
2、linux进行模块编译时，make文件的写法要注意：obj-m = 模块名.o 这里的模块名，如果和.c名称相同，而且只有一个.c文件，就可以了。如果有多个.c或者模块名和.c名字不一样，就要再加一条：模块名-objs = xxx.o xxx.o   等。
3、iwpirv ath0 wds 1这个问题呢，9331上是打开的，所以，只要9344打开就好了，这样可以解释为什么tp-link代替9344就可以用的问题，但不能解释为什么tp-link代替9331也可以使用的问题。
4、无线网络linux 下git clone的速度也能够到的2m多，相当快了。但同时ping的延时立即从2ms左右上升到了200ms多。

2012-3-30
1、设置一下iwpriv ath0 wds 1，就可以进行转发了。其实这也是比较奇怪的问题，9331上这个参数是打开的，而9344作为stand是没有打开，所以不能转发，但使用tp-link就代替9311就没有问题，这又是为什么呢？
2、9382是一块无线网卡。
3、使用openwrt编译出来的东西用不了，奇怪啊。
4、李瑶发现只有农行的卡会出问题，看程序应该是出口参数时一般300的变量不足。增加这个变量，看看情况如何。

2012-3-29
1、悲哀啊，芯片厂家的人也没有搞明白原因，他把9331上的mac地址修改后，从9331上可以ping到9344了。说回去抓包看原因。
2、下载了openwrt上面下载的dropbear，结果运行结果是symbol '__ctype_b': can't handle reloc type 0x7e，网上说是不同的uclibc编译器的原因。
3、tplink上的系统也是busybox1.01，不过它的br0使用的是ath0的mac，这有些奇怪，因为它的eth的mac也要小，难道它改了内核代码？可以自定义使用什么mac?
4、李瑶那边发现了王博程序可能有问题。

2012-3-28
1、这个脚本可以随机修改ssid
#!/bin/sh
c=$(cfg -e | grep AP_SSID | grep SSID= | grep Atheros_XSpan_2G)
c=${c% *}
if [ -z $c ] ; then
        echo ok
else
        echo must change
        ssid=$(cat /proc/sys/kernel/random/uuid)
        echo $ssid
        ssid=${ssid%-*}
        ssid=${ssid%-*}
        ssid=${ssid%-*}
        ssid=${ssid%-*}
        cfg -a AP_SSID=tozed-$ssid
        cfg -c
fi
但如果把这个脚本放在rcS中去执行，那么就没有什么效果了，每次结果都是一样的。只有考虑做一个网页，由用户去点了。
2、如果没有加载网卡的驱动，那么网卡的那个io是无法控制的，奇怪。
3、仍然存在ko版本不同的报错，奇怪啊。
4、增加了一个tozedgpio.c文件，单独控制gpio，以及为以后控制温度芯片来写程序。

2012-3-27
1、在scripts/ap121-2.6.31/config.ap121-2.6.31文件中有：
export KERNELARCH=mips
export TOOLPREFIX=mips-linux-uclibc-
而在build的Makefile 中：
export MAKEARCH=$(MAKE) ARCH=$(KERNELARCH) CROSS_COMPILE=$(TOOLPREFIX)
然后才可以对内核进行编译：
cd $(KERNELPATH) && $(MAKEARCH) $(BOARD_TYPE)$(BUILD_CONFIG)_defconfig
cd $(KERNELPATH) && $(MAKEARCH)
所以进入内核的目录直接make是无法编译的。
2、还是简单的使用
make kernel_build BOARD_TYPE=ap121-2.6.31
来编译内核吧。
这样编译的内核不会自动复制到tftp目录中去。
3、没有带modproble这个程序。
4、arch/mips/ar7240/gpio.c才是需要修改的gpio代码。
5、把相应的config.XXX 文件中的ATH_SUPPORT_LED变成0，GPIO_0就可以控制了，但那个system的gpio27一直无法控制。
6、网卡的灯还受网卡驱动的控制。
7、增加一个新的设备类型需要以下地方增加：
	u-boot/Makefile 内容
	apps/busybox-1.01/ 增加一个defconfig-xxxx文件，可以从其他defconfig文件复制。
	build/scripts/ 增加一个xxx目录，可以从其他目录复制，然后修改目录中的Makefile.xxx 和config.xxx文件名。
	rootfs/ 中增加一个xxx的目录，可以从其他目录复制。
	build/gcc-4.3.3/toolchain/cClibc/ 增加xxx.config文件，可以从其他.config文件复制。
	gcc4.3.3/ 增加xxx.config文件，可以从其他.config文件复制。
8、Makefile有时候会不理睬%.o的规则，直接按照(CC) –c –o 来编译。

2012-3-26
1、9331和9334无法连起来，而和tplink都是可以相连的。
2、貌似写gpio一定要写内核模块，否则好像无法调用内核中的函数。
3、wlanconfig ath0 list sta 可以显示连接的无线客户端。
4、ath_gpio_config_output这个函数似乎只有在/linux/drivers/ethernet/ag934x.c中使用过。这就不知道其他几个灯是在哪些代码进行控制的了。

2012-3-24
1、虚拟机可以是nat的模式，传文件可以使用ssh那个图形化工具。
2、在arch/mip/include/asm/mach_ar7420中的ar933x.h中有IO的地址定义。933x的IO地址定义在0x18040000。

2012-3-23
忙碌的一天。在生产迷你终端，碰到了问题：
1、删除configuration.ini文件后，游霖发现数据没有了，其实系统启动时在/etc/init.d/rcS中做了判断/mnt/logdisk/configuration.ini的文件判断操作，由于删除后没有成功重新启动，又做了其他操作，这些操作在读取文件时发现文件不存在，就自动生成了文件，这样就少了很多参数。
2、无线密码键盘的版本号居然显示的是0.1，而且居然是我写的。
3、游霖发现插件中reboot函数名不相同的问题，实际上是李瑶在河北的程序里面做了一个转换，而在河南的程序里面直接使用了插件里面的函数名称。
4、9331和9334两个板子都不能当做client来使用，真是奇怪。下面是apup中相应的代码：
    if [ "${AP_STARTMODE}" = "client" ]; then
        makeVAP sta-wds "$AP_SSID" 0:RF:$AP_PRIMARY_CH:$AP_CHMODE
        if [ $? != 0 ]; then
            echo "Unable to create VAP!"
            exit
        fi

        if [ "${ROOTAP_MAC}" != "" ]; then
            iwconfig ath0 ap $ROOTAP_MAC
        fi

        activateVAP ath0 br0 $AP_SECMODE $AP_SECFILE
fi

2012-3-22
1、安装openssh server 就可以在windows上面建立ssh server
2、使用tp-link可以作为客户端，其连接的pc可以连接到ap所在的网络。
3、在tp-link上使用vconfig貌似没有作用。

2012-3-21
1、下面的脚步可以统计流量信息，本质上就是不同从/proc/net/dev中得到数据后，进行平均。
#!/bin/bash
echo -n "which nic?"
#read eth
eth=eth0
echo "the nic is "$eth
echo -n "how much seconds："
#read sec
sec=10
echo "duration is "$sec" seconds， wait please..."
infirst=$(awk '/'$eth'/{print $1 }' /proc/net/dev |sed 's/'$eth'://')
outfirst=$(awk '/'$eth'/{print $10 }' /proc/net/dev)
sumfirst=$(($infirst+$outfirst))
sleep $sec"s"
inend=$(awk '/'$eth'/{print $1 }' /proc/net/dev |sed 's/'$eth'://')
outend=$(awk '/'$eth'/{print $10 }' /proc/net/dev)
sumend=$(($inend+$outend))
sum=$(($sumend-$sumfirst))
echo $sec" seconds total ："$sum"bytes"
aver=$(($sum/$sec))
echo "avrage ："$aver"bytes/sec"
2、9331上没有时钟，总是从1970年开始，也没有对时的程序。
3、所有cpe使用相同的ip，从理论上来说应该是没有问题的。
4、在77服务器上使用virtulbox安装centos后，关闭后就再也无法启动了，奇怪啊。
5、自己的脚步或程序可以放在rootfs/$(board_type)$(build_config)目录中，make的时候是原样复制到目标文件系统中。
6、写了一个简单的拼接程序，形成一个文件系统。可以一次性使用编程序写入。
7、tp-link的flash也可以直接使用mx25L3206的来读。

2012-3-20
1、编译内核是makearch就是make，首先做了一下 make $(board_type)$(buld_config)_defconfig 这样来保证可以编译不同的内核。
2、9331上的cfg和9334上的提示信息还不同。
3、boot/u-boot/tools/crc32.c和enviroment.c在make之后变成了两个符号链接。
5、貌似没有去掉那个version magic 如果文件系统和内核不是一次编译出来的，那么网卡的ko就无法加载。

2012-3-19
1、这个地方有git显示中文问题的各种解决：
http://blog.sina.com.cn/s/blog_4bf3a4fb0100uprs.html
2、git config –l 可以查看所有的git配置信息
3、9331使用apup就会重新启动。
4、build/ scripts/ap121-2.6.31/config.ap121-2.6.31文件中有文件系统的定义BUILD_TYPE的定义。
5、修改scripts/ap121-2.6.31/config.ap121-2.6.31文件中export COMPRESSED_UBOOT=1，就可以把9331的uboot换为非压缩的，并且有sav指令了。
6、李柱栋和陈良调带有证书的soap，发现证书生成时间比系统时间晚时，就会拒绝证书。
7、烧录9331的flash选择的是mx25l3206@sop8

2012-3-16
1、ar9331的文件系统是squashfs，不知道能否修改。答案是不能。
2、碰到Perhaps you should specify a branch such as 'master'. 这样的问题，需要：
git push origin master就可以了。

2012-3-9
1.svn diff –r 82:81即可显示两个版本之间的区别，但貌似没有机制来显示两个版本之间修改的文件

2012-3-7
1、centos使用sudo
yum install sudo 
vi /etc/sudoers
找到root ALL(ALL) ALL，增加一行加上用户即可

2、centos的网卡ip配置文件在/etc/sysconfig/network-scripts/目录中
网关在/etc/sysconfig/network中

2012-2-2
1、centos中，yum install zlib-devel可解决zlib.h找不到的问题。
2、sudo chmod a+w /tftpboot/ 如果忽略+前面的a那么是执行是无效的。

2012-02-01
centos中yum install man-pages后就能查到函数说明。

2012-1-13
sudo ntpdate time.windows.com 即可完成对时。

2012-1-6
pppd的at指令如果存在^符号，必须在^前加\，才能正常发送

2011-11-30
1、增加另外一个ip:   ifconfig eth0:0 192.168.16.79

2、ssh登录时不使用dns反向解析：
编辑/etc/ssh/sshd_config，禁用登陆时dns反向解析
将#UseDNS yesn 改为：
UseDNS no

重启sshd服务
service sshd restart

2011-11-24
1、貌似无论如何修改yaffs的选项，都会出现firefox无法启动的现象。这个现象不是非常容易出现，但连续都不能连续重启一夜仍然正常。

2011-11-22
使用该指令来编译新的内核：
 make CROSS_COMPILE=arm-none-linux-gnueabi- ARCH=arm am3517_evm_defconfig

2011-11-21
在http://vault.centos.org/ 可下载过去的版本
(sleep 120; psplash-write "QUIT") & 延时运行程序

2011-11-19
使用以下脚本，有一天机器有时候firefox不能启动。
cat checkf
#!/bin/sh
sleep 200
while true
do
        FIREFOX=$(ps -e | grep firefox)
        FIRFFOX=${FIREFOX:0:5}
        if [ -z $FIREFOX ] ; then
                sleep 10
        else
                reboot
        fi

done

2011-11-9
printf是有默认的行缓冲的

2011-11-8
//如果不是开发终端之类的，只是串口传输数据，而不需要串口来处理，那么使用原始模式(Raw Mode)方式来通讯，设置方式如下：
       options.c_lflag  &= ~(ICANON | ECHO | ECHOE | ISIG);  /*Input*/
       options.c_oflag  &= ~OPOST;   /*Output*/

2011-10-31
#sudo route del –net 0.0.0.0						#删除缺省路由
#sudo route add –net 0.0.0.0 gw 192.168.1.2
#sudo route add –net 10.0.0.0 gw 1.1.1.1 netmask 255.0.0.0
#sudo route add –net 170.0.0.0 gw 1.1.1.1 netmask 255.0.0.0
 

2011-10-28
array networks的vpn
使用这份文档可以连上河南移动的vpn  http://q.pnq.cc/archives/539
array networks的支持网页也有写，不过稍许有些不同。http://support.arraynetworks.com.cn/troubleshooting/V8.4.6.0.16/

如何来做一个转发的机器呢：
#sudo route del –net 0.0.0.0						#删除缺省路由
#sudo route add 170.170.100.157 gw 1.1.1.1		#增加银联地址
suod add –net 192.168.16.0 netmask 255.255.255.0 dev eth0 #恢复本地网络

2011-10-12
man –f free 可以得到保护free的帮助列表
free (3)             - Allocate and free dynamic memory
free (1)             - Display amount of free and used memory in the system
再man 3 free 就得到了Allocate and free dynamic memory这个说明

2011-9-29
增加svn仓库中文件的可执行属性。
svn propset svn:executable on test.c 
取消：
svn propdel svn:executable test.c 
http://bigwhite.blogbus.com/logs/74568031.html

2011-9-8
如果在ramdisk中有几个.svn的目录，那么最后的ramdisk.tar.gz就可以到4m多，而如果没有，就要到5m多，真是奇怪啊。

2011-9-7
vi .svnignore
每种要忽略的文件加一行，如：
*.pyc
*.cash
然后
svn propset svn:ignore -F .svnignore .
svn status
清净了。

要使用\\192.168.1.112这样的东东，貌似要开启network connections这个服务

Svn st --no-ignore，当不希望有所忽略时，加这个选项。

2011-8-31
1、使用busybox带的udhcpc就可以自动获得地址。同时会修改路由和dns文件。
2、万辉写的文档可以完成河北的部署，但不能完成从源码开始的部署。
3、写卡方面，毛其桂那边电脑没有批下来，所以需要等待。

2011-8-26
1、ifconfig eth0 add 10.10.33.145 //增加一个IP，这种方法在板子上是不行的，要这样：
	ifconfig eth0:0 192.168.16.79

2011-8-25
1、使用option.ko作为串口的驱动时，有非常奇怪的现象，就是在一段时间内，模块会不响应at指令，应该是这个驱动有问题。但option.ko的主要优点是可以自动识别不同的模块，不需要每次都用modprobe来指定参数。

2、不断重新给模块上电、拨号、下电的脚本
#!/bin/sh
killall pppd
killall check3g
count=0
ok_count=0
fail_count=0
while [ $count -le 100 ]
do
        echo 0 > /dev/gpio135
        sleep 1
        echo 1 > /dev/gpio135
        sleep 15
        pppd call cmnet
        dial_delay=0
        while true #[ $dial_delay -le 60 ]
        do
                if [ -f /var/run/ppp0.pid ]
                then
                        ok_count=$(($ok_count+1))
                        sleep 2
                        break
                fi
                dial_delay=$(($dial_delay+1))
                if [ $dial_delay -gt 60 ]
                then
                        fail_count=$(($fail_count+1))
                        break
                fi
                sleep 1
        done
        count=$(($count+1))
        echo test $count times, $ok_count successed $fail_count failed
done

2011-7-6
1、方舒遇到的问

2011-7-5
1、6.27记录的脚本已经连续工作了12天，百度查询8550次。

2011-7-4
1、连续播放一天的声音，并不断kill掉它，貌似没有出现什么问题。
2、6.27记录的脚本已经连续工作了11天，百度查询7773次。
3、前天方舒打电话来说使用vbscript不能相应ocx中的事件，而使用javascript是可以的。今天问他说是证通的透露是要在ocx中建立一个窗口，窗口发的事件vbscript可以相应。

2011-7-1
1、6.27记录的脚步已经连续运行了8天，应该认为是没有什么问题了。

2011-6-27
1、我们使用 svn 作为版本管理工具。 有时同事 A 做的修改需要同事  B 去 Review, 同事 C 去提交。 今天发现，使用patch 工具可以很好的解决代码传递问题。
生成 patch:
同事 A 运行如下命令生成 patch:
svn diff > aaa.patch
 
应用 patch:
同事 B 运行如下命令应用 patch:
patch –p0 < ../aaa.patch
 
当他 review 完代码，想删除该 patch 时， 可运行：
patch –p1 -R < ../aaa.patch
http://blog.csdn.net/zjujoe/archive/2008/12/27/3622312.aspx

2、以下代码已经连续运行了4天，和以前的主要改动是删除了内存中firefox文件，重新复制了一份，kill的时候使用了-SIGTERM参数
#!/bin/sh
export DISPLAY=0:0
count=0
while true
do
   rm /media/ram/* -rf
   cp /home/root/.mozilla/firefox.000/* /home/root/.mozilla/firefox/. -rf
   firefox http://www.baidu.com/s?wd=$count&inputT=594 & > /dev/null 2>&1
   i=1
   while [ $i -le 120 ]
   do
       sleep 1
       echo -n '*'
       i=$(($i+1))
   done
   #dmesg
   cat /proc/meminfo | grep MemFree
   killall -SIGTERM firefox-bin
   count=$(($count+1))
   echo run $count times
done

3、如何让TortoiseSVN仅导出新增或修改过(变更过)的文件
http://www.subversion.org.cn/?action-viewnews-itemid-90

4、使用EXPORT_SYMBOL这个宏，就可以把内核中的函数引出，在ko中使用。

2011-6-24
1、如果使用lcp-echo-interval 和lcp-echo-failure的方式，貌似即使关闭屏蔽门，完全没有信号，也不会断线。

2011-6-23
1、原来在windows下的命令行也支持tab自动完成功能。
2、跑和讯滚动新闻的跑了2天多，由于没有显示屏，开了一下x11vnc，就不行了。
top - 08:50:51 up 2 days, 16:00,  3 users,  load average: 0.10, 0.13, 0.06
Tasks:  66 total,   1 running,  65 sleeping,   0 stopped,   0 zombie
Cpu(s): 12.5%us,  2.0%sy,  0.0%ni, 85.5%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:    250996k total,   166364k used,    84632k free,        0k buffers
Swap:        0k total,        0k used,        0k free,    71604k cached
在使用x11vnc之前，还有89M的空余内存。
3、如果使用脚本去操作watchdog，就总是会报不能关闭的错误，还是写个程序来吧。

2011-6-22
1、无线键盘使用平台需要进行的修改：
功能	负责人
数据库增加店主银联卡信息	谭凯凯
设置页面增加读取店主银联卡信息页面。	谭凯凯
2.4g插件和2.4g设备驱动交互，完成原来2.4g_app功能	王博
2.4g插件调用页面js，指示有银联缴费请求	赵金
页面js增加接口，收2.4g插件银联请求，如果不在待机界面，直接返回或调用2.4g插件接口，暂时不能操作。如果在待机界面，则进入业务处理界面	谭凯凯
增加业务处理中页面，页面只显示业务处理中，请稍等。	谭凯凯
增加无线键盘银联缴费脚本过程，在上面的页面中作以下处理：
1、	关闭键盘。
2、	使用pin密钥算pin
3、	提交银联缴费请求
4、	将结果返回2.4g插件
5、	切换页面到待机界面	谭凯凯
	

2、以下脚本运行了2天减去20小时，实际上只运行了30个小时不到。为什么在firefox停留的时间长反而会增加死机的概率呢？
#!/bin/sh
export DISPLAY=0:0
count=0
while true
do
   firefox http://www.baidu.com/s?wd=$count&inputT=594 & > /dev/null 2>&1
   i=1
   while [ $i -le 120 ]
   do
       sleep 1
       echo -n '*'
       i=$(($i+1))
   done
   #dmesg
   cat /proc/meminfo | grep MemFree
   killall -SIGTERM firefox-bin
   count=$(($count+1))
   echo run $count times
done

top - 22:24:27 up 2 days, 11:40,  2 users,  load average: 0.03, 0.06, 0.08
Tasks:  72 total,   1 running,  71 sleeping,   0 stopped,   0 zombie
Cpu(s):  0.3%us,  1.0%sy,  0.0%ni, 98.7%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:    250996k total,   145076k used,   105920k free,        0k buffers
Swap:        0k total,        0k used,        0k free,    72672k cached

2011-6-17
1、以下脚本支持了3天。
#!/bin/sh
export DISPLAY=0:0
count=0
while true
do
   firefox http://www.baidu.com/s?wd=$count&inputT=594 & > /dev/null 2>&1
   i=1
   while [ $i -le 15 ]
   do
       sleep 1
       echo -n '*'
       i=$(($i+1))
   done
   #dmesg
   cat /proc/meminfo | grep MemFree
   killall -SIGTERM firefox-bin
   count=$(($count+1))
   echo run $count times
done

2011-6-15
1、编译插件要在xulrunner-sdk/include/plugin/npapi.h文件中加入#define XP_UNIX

2011-6-14
1、使用firefox 3.0.1，跑了700多次开启关闭，还是崩溃了。
2、测试脚本：
#!/bin/sh
export DISPLAY=0:0
count=0
while true
do
   firefox http://www.baidu.com/s?wd=$count&inputT=594 & > /dev/null 2>&1
   i=1
   while [ $i -le 15 ]
   do
       sleep 1
       echo -n '*'
       i=$(($i+1))
   done
   #dmesg
   cat /proc/meminfo | grep MemFree
   killall -SIGTERM firefox-bin
   count=$(($count+1))
   echo run $count times
done

2011-6-13
1、在main.js中，做如下修改，就可以避免快速倒计时引起的崩溃。
showMessage : function(seconds) {
		//$('#count_down').html("剩余 <span>" + seconds + "</span> 秒");
		$('#count_down').html(seconds); 
2011-6-10
1、换原来的busybox跑了11个小时，情况差不多。

2011-6-9
1、昨天晚上继续wget测试，奇怪的现象，约2个小时后，wget界面停止得到数据，“使用ssh可以连接，出现密码提示，但是连接进去后无反应，串口输入无反应，鼠标正常，拔下时串口有信息，”但拔下之后，又都变得正常。这个正常后到了10:24再看的时候，再次不正常，这次拔掉鼠标只有串口消息，但无法再正常了。此时使用ssh secure file transfer 是可以看见文件的

2011-6-8
1、从昨天起，再次使用wget，用内网连接不断去www.163.com数据，开始间隔时间1s，后来60秒，一直没事，但晚上发现：使用ssh可以连接，出现密码提示，但是连接进去后无反应，串口输入无反应，鼠标正常，拔下时串口有信息，再次插上无反应。

2011-6-7
1、wget放14小时左右死掉2次。
2、从内网连接，使用浏览器取和讯的滚动新闻死掉，而取新浪的滚动新闻没有发现死掉的情况。

2011-6-2
#!/bin/sh
export DISPLAY=0:0
count=0
while true
do
        firefox http://www.163.com & > /dev/null 2>&1
        i=1
        while [ $i -le 120 ]
        do
            sleep 1
            echo -n *
            i=$(($i+1))
        done
        #dmesg
        cat /proc/meminfo | grep MemFree
        killall firefox-bin
        count=$(($count+1))
        echo run $count times 
done

2011-5-31
1、把.mozilla目录下的firefox目录改为一个链接，指向/tmp，很快就会报内存不足的错误，并死机。

2011-5-30
1、使用firefox跑了一个晚上，出现
yaffs: yaffs tragedy: no space during cache write
yaffs: yaffs tragedy: no more erased blocks
yaffs: !!!!!!!!! Allocator out !!!!!!!!!!!!!!!!!
2、nand scrub命令重新完全擦除nand

2011-5-29
ifdown eth0
ifconfig eth0 hw ether 00:e0:4c:f9:0b:8c
ifup eth0
ifconfig eth0 192.168.1.79
route add default gw 192.168.1.2

root@am3517-evm:~# cat f
#!/bin/sh
export DISPLAY=0:0
while true
do
        firefox http://www.163.com &
        for i in 1 2 3 4 5 6 7 8 9 10
        do
                sleep 10
                echo $i
        done
        dmesg
		cat /proc/meminfo
        killall firefox-bin
done

2011-5-26
1、写现金缴费部分程序。
2、赵金：可以下载更新了。
3、李柱栋：psam更新库已经发给了毛其桂，修正在某种情况下会将回显的命令字发给调用者。

2011-5-25
1、测试现金缴费流程。
2、颜斌：有块版，如果加上电池，就不能启动，未知原因。
3、李柱栋：打印机机驱动修改，不需要上层来关闭。做文件系统，加入文泉字库。
4、赵金：测试升级，发现firefox会崩溃。

2011-5-24
1、王博：上传了2.4g驱动程序。

2011-5-23
1、去珠海，对方毛其桂应该还没有开始。

2011-5-22
1、加快拨号速度，把rc5.d中的S60usbmodem删除，在rcS.d中 
ln –s ../init.d/init-modem S70usbmodem 
这样在登录提示之前，就可以识别到模块。

改进后的拨号脚本，先进行拨号一次，60秒后再进行循环检测。
#!/bin/sh
CONFIG_FILE=/mnt/logdisk/configuration.ini
if [ ! -f $CONFIG_FILE ] ; then
        #echo no configuration file. exit now.
        exit
fi

USE3G=$(awk  -F" " /USE3G/'{print $2}' $CONFIG_FILE)
if [ "$USE3G" != "yes" ] ; then
        #do not use 3g, exit
        exit
fi

route del default
pppd call cmnet
sleep 60

#dns1="www.163.com"
#dns2="www.baidu.com"
dns1=120.196.165.7
dns2=221.179.38.7
while true
do
       ping -s 1 -c 1 $dns1
       if [ "$?" != "0" ]
       then
           ping -s 1 -c 2 $dns2
           if [ "$?" != "0" ]
           then
              killall pppd
              //route del default
              pppd call cmnet &
              sleep 12
              sleep 50
           fi
       else
              sleep 50
       fi
done
2、写新的任务分配表。

2011-5-20
1、自动设置ip的脚步
# cat setip 
#!/bin/sh
CONFIG_FILE=/mnt/logdisk/configuration.ini
if [ ! -f $CONFIG_FILE ] ; then
        #echo no configuration file. exit now.
        exit
fi
LOCAL_IP=$(awk  -F" " /ADDRESS/'{print $2}' $CONFIG_FILE)
LOCAL_NETMASK=$(awk  -F" " /NETMASK/'{ print $2}' $CONFIG_FILE)
LOCAL_GATEWAY=$(awk  -F" " /GATEWAY/'{ print $2}' $CONFIG_FILE)

if [ "$LOCAL_IP" != "" ] ; then
        #echo set ip $LOCAL_IP
        ifconfig eth0 $LOCAL_IP netmask $LOCAL_NETMASK 
fi

if [ "$LOCAL_GATEWAY" != "" ] ; then
        #echo set route $LOCAL_GATEWAY
        route add default gw $LOCAL_GATEWAY
fi
2、自动拨号
#!/bin/sh
#请把dns1,dns2修改成拼得通的DNS,开机自动运行,实时监控,断线自动重拨
dns1="www.163.com"
dns2="www.baidu.com"
while true
do
       ping -s 1 -c 1 $dns1    #去PING第一个DNS
       if [ "$?" != "0" ]      #假如PING不通
       then
           ping -s 1 -c 2 $dns2  #去PING第二个DNS
           if [ "$?" != "0" ]     #假如PING不通 
           then   
              killall pppd         #结束PPPD进程
              pppd call cmnet & #再去拨号
              sleep 12               #等待12秒
              sleep 50            #如果是PING  DNS2通的话就直接等待5秒
           fi   
       else
              sleep 50            #如果是PING  DNS1通的话就直接等待5秒（一般要设置多长时间去PING请改这里）
       fi               
done


2011-5-19
做文件系统，包括：
1、修改文件日期，使用指令 find . -name '*' -exec touch {} \; 将所有文件的日期改为当前日期。
2、去掉登录界面，修改etc/sysconfig/gpelogin文件中AUTOLOGIN="false"改为"true"
3、增加mount.nfs到/sbin目录中
4、firefox加入全屏组件full_fullscreen-3.4-fx.xpi
5、减少firefox的缓存为10M
6、firefox自动启动，在/etc/X11/Xsession.d/98standard-apps文件中，最后加一行firefox &

2011-5-18
1、自动拨号取网站，断线，不断循环的脚步。
#!/bin/sh
while true
do
        echo begin dial.....
        pppd call cmnet
        sleep 30
        wget http://www.baidu.com -T 60 -t 1
        echo disconnect....
        killall pppd
        sleep 5
done
2、使用绑定td或者绑定gsm的模块程序，就可以正常的拨号和上网，如果使用自动切换的程序，就要设置mtu=900才能取得网页。

2011-5-17
1、使用otg口，模块会有不能上网的问题，把mtu改为900才行。
2、修改drivers/mmc/host/omap_hsmmc.c内的#define OMAP_MMC_MASTER_CLOCK 96000000为104000000，就可以对增加静电保护器件的板子的MMC卡了。
3、万辉：完成了通用的cgi的程序，需要在板子上测试。
4、李柱栋：半切还是有问题，只有全切了。

2011-5-12
1、使用pptp拨号总是有问题。

2011-5-10
1、开会，详细见工作安排文档
2、东信和平回邮件，需要签保密协议。
3、killall ipaq-sleep进程，仍然有黑屏动作
4、qte的界面貌似没有黑屏动作，也没有花屏的现象。

2011-5-9
1、使用多个文件系统进行测试，发现直接对/dev/fb进行操作，就可以进行对屏幕的操作，这个操作似乎没有发现有花屏的情况发生。
2、dd：内存复制 dd if=/dev/fb0 of=1，把屏幕的内容复制到文件1中。而dd if=/dev/zero of=/dev/fb把屏幕清空。

2011-5-7
1、系统不能重新启动的原因是由于在/etc/rcS.d/S03udev这个脚步中对是否是第一次运行做了判断，这个判断对后面的建立/dev中的文件时有不同。屏蔽以下代码就好了。
#如果进行了这样操作，可能有如下影响：
#如果开机未完成的情况就关机，那么/dev中的文件可能不全，ttyS0也没有能够建立，图形系统不能进入。
#if [ "$DEVCACHE" != "" ]; then
#       # Invalidate udev cache if the kernel or its bootargs/cmdline have changed
#       [ -x /bin/uname ] && /bin/uname -mrspv > /tmp/uname || touch /tmp/uname
#       [ -r /proc/cmdline ] && cat /proc/cmdline > /tmp/cmdline || touch /tmp/cmdline
#       [ -r /proc/atags ] && cat /proc/atags > /tmp/atags || touch /tmp/atags
#       if [ -e $DEVCACHE ] && \
#          cmp -s /tmp/uname /etc/udev/saved.uname && \
#          cmp -s /tmp/cmdline /etc/udev/saved.cmdline && \
#          cmp -s /tmp/atags /etc/udev/saved.atags; then
#               (cd /; tar xf $DEVCACHE > /dev/null 2>&1)
#               not_first_boot=1
#       fi
#fi
2、花屏的情况比较严重，要找一下是什么原因。

2011-5-6
1、sed –i –e /rm_work/d build/conf/local.conf 去掉local.conf中的rm_work，保留源码。
2、更换文件系统，更换内核进行测试，仍然会出现不能正常启动的情况。但如果每次复位都发生在系统启动2分钟之后（把telnet的启动前增加一个sleep，并将脚步放到后台运行，这样zmud就无法快速连上），貌似就不会出现了。
3、李柱栋：新的打印机切刀的步进能力不够，如果纸硬，步进就少，反之就多。这样要实现半切就有困难。
4、王博：可以实现按键驱动了。

2011-5-5
1、svn st –q 查看本地修改的文件
2、对于makefile中的参数，可以直接make CC=gcc来改变它的值。
3、颜斌也发现了系统不能启动的问题。
4、写了个pc下的写卡测试so给东信和平的徐晓翔，他说要一周左右的时间。

2011-5-4
1、watchdog在drivers/watchdog/omap_wdt.c中，可以把它编译为模块，但貌似是重启几次之后，linux系统就再也不能启动了。

2011-5-3
1、开会，讨论无线键盘。
2、李柱栋：完成pscm接口。（是否测试了每个卡的位置？）
3、赵金：琢磨是否要对ini文件进行优化。
4、pppd运行了4天，貌似没有断线。但其他usb口仍然有报错。
5、联系徐晓翔，说要和领导商量。

2011	-4-29
1、run-parts：运行目录中的文件。

2011-4-28
1、李柱栋：从话机程序来看，发送数据必须按照先发前5个字节，再发后面的数据的格式来发送，就可以正确的接收了。张悦玲：这是在集团测试时，卡商要求的。从智能卡7816标准上有关于过程字节的描述。
2、赵金：身份证阅读器有乱码出现。
3、王博：使用天沐的uboot可以正常显示数据，但从svn拉下来的则不能。
4、万辉：升级采用的策略是，无论什么东西需要升级了，都将终端的版本升级1，并在发行的时候，根据现场有的最低版本，来制作差分包。每个插件版本号自行处理。

2011-4-27
1、上午开会，详细内容见文档。
2、赵金：密码键盘算mac似乎很慢，在windows下使用厂商自带的动态库则很快。

2011-4-26
1、李柱栋：使用minicom可以收到串口回环的数据，而自己的程序有问题。
2、赵金：密码键盘插psam卡还有问题。
3、王博：2.4G模块能够收发数据。跳频是两方约定一个频率，如果收不到，同时增加频段或减少频段值。
4、飞天的读卡器有一种可以在pc的linux下成功驱动，并读到reset后的数据。
5、这几天usb口都没有出现什么报错的信息。

2011-4-25
1、编译netfilter，修改了若干个文件。
2、李柱栋：测试sim卡操作部分。

2011-4-23
1、由于无法使用windows下的写卡组件，要使用linux下对pcsc的支持，linux下游pscs-lite和ccid对读卡器进行支持。

2011-4-22
1、网页的问题在于，对应cgi来说，只有printf来进行输出，这样输出的内容，就已经在网页的body中。除非可以解释网页body的内容，才可以把它们填充到相应的edit框中。还有一个方法是cgi完全控制输出，包括edit等等，这样一切都在程序中搞定了。
2、晚上模块报错了，早上重新装了一下，下午又开始报错。当报错时，底板完全关电再开电，能好一会，然后又继续报错。晚上重新焊了一下芯片。
3、赵金：调整刷卡的函数。
4、李柱栋：开始搞底板的卡控制。

2011-4-21
1、拨号后，每分钟ping一个包，运行约16小时，接收数据439.9k， 发送数据110.1k，无断线，无报错。
2、得到csq等后，在程序中使用setenv是无效的，貌似source也没有用。只有记录文件了。
3、李柱栋：文件管理器可以使用了，问题是文件没有图标显示。
4、王博，颜斌：刷卡器可以刷了。反刷有一定的失败概率。
5、刷卡器没有进行三方联调。
6、本地设置页面

2011-4-20
1、把原来在broadcom下没有写完的modem程序放到ti的平台上来，也可以编译，可以运行，修改后发送了at指令。
2、赵金、李柱栋和王博搬到了一起，方便交流。
3、赵金：上传了插件的代码。
4、李柱栋：修改触摸屏为鼠标，去掉屏幕校验，增加汉字打印字库。
5、王博：可以接收2.4g模块的数据了。
6、颜斌：有一块板usb总是会报错。
7、赵金：可以写一个程序，不断填充鼠标移动消息，就可以使得屏幕不黑了。

2011-4-19
1、可能会使用512M的flash，这样的系统对于x11来说很大了，对于gnome又小了些。
2、chat的参数：-t 超时时间
			   -f 脚本文件
			   -r 错误报告文件
               -s 把输出到stderr
               -v 执行状态输出。
3、可以使用dbus，让其他应用程序知道系统的连接状态。
   把/etc/里面的dbus去掉，让firefox直接按照系统的hal的消息给出在线状态。

2011-4-18
1、firefox调用插件会将参数字符串改为utf-8编码，比较奇怪现象。
2、打印机不正确打印中文的一种情况是文件系统中没有字库。
3、如果要操作GPIO，貌似一定要写驱动文件。
4、打印机三方联调完成。
5、刷卡器未进行三方调试。
6、linux内核中，文件大小写主要集中在netfilter相关目录中。
7、低板上的usb口和8880平台模块配合比较正常，比原来的有天壤之别，而且wget也能得到数据。
8、金浪的路由器串口只能看到数据，不能输入了。应该是硬件的原因。
9、打印机图形打印正常。

2011-4-15
1、李柱栋：做打印机图片部分。
2、赵金：打印机联调还有问题。
3、王博：修改u-boot显示图片未上传，等有屏的机器来测试，看2.4G模块资料。
4、sudo ssh –D0.0.0.0:8888 –N user@host实现转发。
5、8800平台模块通过otg的usb口可以正常连上，测试20次，每次都能出串口，也能进行at，拨号，可以ping出去了，但是不能使用wget得到页面。原来不能ping出去的原因是使用的是大唐lc6311的at指令。
6、龙尚的手持机则出现reset错误。

2011-4-14
1、awk  -F"=" /mylip/'{ print $2}' my.ini 这个指令从my.ini文件中得到mylip=hello后面的hello。
2、拨号脚本的制作，考虑在后台运行一个脚本，这个脚本首先检查配置，如果使用网卡联络网络，则直接退出，否则为一个while ture do … done循环。每1分钟执行一次。如果pppd进程不存在，则开始拨号，如果pppd进程存在，则没10分钟ping 一下dns，如果能ping通，则认为网络是通，否则认为不通，重新拨号。
3、终止一个脚本需要用：killall bash，在目标板上是killall sh。如果脚本的名称是testsh, 那么killall testsh是无效的。
4、m61,8800平台模块有6/10的概率可以找到串口，并且能够拨号，一切正常。但不能ping出去，包括ppp对端的地址。
5、pppd拨号后，要在/etc/ppp/ip-up.d/08setupdns中的ACTUALCONF改为/etc/resolv.conf，同样在/etc/ip-down.d/92removedns中作修改。
6、增加+++在拨号脚本中对拨号没有什么影响。
7、m28模块拨号后，如果拔掉usb线，也无法拨号了。
8、万辉：证书和ip绑定，如果服务器ip修改，那么全部终端都要手工点击一下才可以。

2011-4-13
1、李柱栋完成了制作只需要fat分区的生产mmc盘的制作。
2、李柱栋上传多了一个uboot，删掉。
3、万辉：使用wget得到自己制作的网站有问题，应该是制作证书的问题。
4、王博：刷卡器一次open只能刷一次。不是很合理。
5、给方舒做生产写mac工具的任务
6、梁剑，谌杰：可以使用辽宁的测试网页调试硬件了。

2011-4-12
1、delphi可以通过一个activex library中放置多个activex form的方式来实现，具体来说就是一个activex form做为第一层接口，增加属性printer,key等，这些属性返回的是指向printer,key等的activex form，而这些activexform又有print等方法。
2、李柱栋：打印中文正常。
3、赵金，王博：刷卡器还未完全连调。
4、和模块厂家联系。现在薛东义正在处理这个问题。

2011-4-11
1、vc下似乎无法在ocx中实现ocxobj.printer.print这样的方式。

2011-4-9
1、文件系统貌似无法使用svn进行管理，不行就手工吧。

2011-4-8
1、讨论无线键盘的方案。

2011-4-7
1、李柱栋：打印机驱动中，write函数的实现有问题，不会被调用。
2、王博：刷卡数据正确了。
3、王博：第4串口能发不能收。
4、赵金：做网站要求的取本地参数的插件。
5、万辉：在起始页中完成自动升级本地文件的操作。
6、路由器不能枚举的问题在新的m61模块上也出现，m61模块在ti上不行，但在broadcom的路由器上可以正常枚举。
7、写PRM_RSTCTRL寄存器貌似不行，不能重新启动。Uboot中的reset汇编码貌似是操作这个寄存器的。

2011-4-2
1、打印机等外设写为.ko的方式，方便日后更新。
2、由插件直接操作设备驱动形成的设备文件，如果需要接口，由插件来调用ioctrl函数来实现。
3、路由器厂家仍然是设备不能枚举的问题。
4、王博，赵金：可以在页面上进行刷卡，但一轨和3轨的数据不正确。
5、李柱栋：打印机可以操作切刀，但读打印机状态不对。
6、自己做的路由器已经有硬件资料，但软件资料还没有通过对方公司的流程。
7、遥控键盘使用2.4g的无线模块。

2011-4-1
1从网站上下载的tar.gz文件也不能正常的tar出来，不过改用7z倒是可以解压为tar文件，再tar就可以了。从下面的链接来说这不算是个错误。
https://supportcenter.checkpoint.com/supportcenter/portal?eventSubmit_doGoviewsolutiondetails=&solutionid=sk58780
2、网站可以通过首页来进行空闲判断，考虑在本地web中增加一个cgi重启程序，当需要重启时，网站调用这个本地web。
3、貌似新的系统有没有跑起来的情况。
4、报错的tar.gz重新tar一下就不会报错了。
5、好像复制shutdown过去也不行了。
6、李柱栋打印机可以打印了，可以打印英文，还需要切刀的资料
7、angstrom系统制作中，build/conf/local.conf中的#DISTRO   = "angstrom-2008.1"已经过期，需要修改为DISTRO   = "angstrom-2010.x"。否则bitbake回有大量的报错，并且无法进行。
8、linux系统如果需要在串口出shell，要在/etc/inittab文件的最后一行加上：
S:2345:respawn:/sbin/getty 115200 ttyS2
这样就可以从串口进入shell了。

2011-3-31
1、u-boot代码中的reset貌似是正常的，它的reset在lib_arm/reseet.c中，只有两个函数：disable_interrupts和reset_cpu，reset_cpu这个函数貌似是在cpu/arm_crotexa8/omap3中的reset.S中，是一段汇编代码。
2、由于3715文件系统中的reboot是正常的，把3715文件系统中的reboot的最终链接sbin/shutdown.sysvinit复制到3517的系统中。貌似可以重启了，也不会报非法错，但要等半分钟左右，难道也是使用watchdog？
3、web是否能知道当前空闲？
4、oe进行更新后，不能bitbake了，难道是什么东东更新了？

2011-3-30
1、内核提交的时间真长。
2、制作uImage的脚本在内核的scripts/mkuboot.sh中，但貌似有些难懂，简单的把编译好的mkimage放到usr/bin中好了。
3、makefile中的.PHONY比较强大。
4、在使用modprobe之前，要使用depmod
5、王博确定了触摸屏的转换。
6、居然出现了网络操作系统不能启动的情况。
7、oe重新编译真不容易，一个晚上还没有编译完成。
8、李柱栋可以控制打印机了，但是会复位。
9、内核文件存在用大小写区分的文件，所以在windows平台上无法下载下来。

2011-3-29
1、plm开会
2、自己编译的x-load和天漠提供的大小不相同，也不知道是啥原因。
3、u-boot开始显示的时间是在Makefile中，由date命令来写一个timestamp-autogenerated.h来完成的。
4、李柱栋可以写gpmc控制寄存器了，但操作io貌似还有问题。

2011-3-28
1、在使用nfs作为文件系统的情况下，貌似不能使用watchdog来重启了。
2、u-boot中的版本号有特殊字符。

2011-3-26
1、写任务分配表。

2011-3-25
1、#cmd 2>error_file 把错误输出定向到错误文件
   #cmd >output_file 2>errorfile 分别定向
   #cmd >output_file 2>&1 全部输出到output_file中。
2、赵金将字体选项改为中文字体后，matchbox的桌面图标可以显示中文。貌似没有文件管理器。
3、gtk3貌似要装的东西比较多。

2011-3-24
1、可以在matchbox中桌面上增加文件夹，但不能是中文。
2、使用query进行了一晚上的测试，没有发现问题
3、底板声音有，但有破音，好在使用缴费终端原来录制的声音不是非常明显。
4、底板网口ping正常。
5、新的lcd显示正常了，硬件上接反了线，通过软件设置后可以调整。
6、在linux启动参数中增加eth=xx:xx….可以利用u-boot中的参数来设置网卡的MAC，在Board-am3517evm.c (arch\arm\mach-omap2):__setup("eth=", eth_addr_setup);中有实现的方法。
7、在rc6.d中增加一个脚本，cat /dev/watchdog，就可以实行reboot后用看门狗来实现重新启动。

2011-3-23
1、外壳样子出来了，陈总提出要有按键，并去掉触摸屏，减少故障率。颜斌认为不需要在打印板上增加usb口，要使用鼠标键盘直接开面板。
2、yaffs2的速度要快一些，而且没有看到报错的信息。
3、可以使用wget直接来得到网站内容，而post的数据可以使用—post-data参数来完成。Busybox所带的wget由于当前系统采用的busybox使用的是较老的版本，不支持—post-data参数。
4、需要考虑对时功能。要测试板子上的实时钟是否准确。
5、在号码输入的网页中，需要有暗码可以进入本地数据查看和工程模式，进行维护。
6、没有找到可以把mac地址传入的linux启动选项，还要再找。
7、威盛是via technologies ，在ieee申请的mac是00-1f-f2。
8、赵金修改了/etc/matchbox/session文件，把firefox加在里面，并在后面在加上matchbox的桌面执行程序，貌似现在是正常开机即启动firefox。
9、新的屏可以看见东西了，但颜色和位置貌似有问题。

2011-3-22
1、PLM（产品周期管理？）第一次会议，确定人员安排。
2、需要做一个外接键盘输入设备，这个设备有键盘和小的液晶，带fsk发送和接收模块，当店内的挂墙设备老板给其他人代收钱时，使用这个设备进行输入号码和金额，设备将号码、金额数据加密后发送到挂墙设备，挂墙终端有服务进程监听，收到数据后，调用firefox，但不显示页面，向服务器发送页面请求数据，并将结果返回到手持设备。服务器收到请求后向boss发起现金缴费请求。结算方面是挂墙终端有工号，同营业厅终端收费方式。
3、李柱栋制作一张mmc卡就完成所有的flash操作。
4、赵金启动firefox还有问题，启动firefox后，可能会导致linux的matchbox无法启动。
5、lcd板还有问题。
6、web方面，李瑶做连接池，页面等部分，万辉做业务部分，唐凯凯（？）则做数据库连接部分。
7、方苏、梁剑和谌杰作windows下的activex，应付即将开始的移动公司中标部分。
8、新疆中标370多台，上海中标占了大头。

2011-3-21
1、yaffs2通过了3天的压力测试。这个系统有一个问题是如果是在没有umount的情况下关机，那么下次启动就需要用20多秒的时间来重新扫描。
2、网页方面原来是要使用静态网页来完成，应该使用jsp更加方便一些。

2011-3-18
任务：
赵金：给出刷卡器的接口文档给王博。
      给出写firefox插件的文档给方舒。
	  验证yaff的使用。
      在x11环境如何直接启动firefox，以及如何在matchbox上增加一个图标。还有声音的测试。

王博：按照刷卡器的接口文档写出刷卡器的接口。
	  新lcd的接口。

李柱栋：写成yaff移植的文档
      制作mmc卡，实现一卡完成对新的机器flash的无人工干预的自动完成，包括：uboot部分：写x-loader,uboot,uboot参数，内核，启动内核。内核部分：加载yaffs文件系统，格式化，写根文件系统。
      写cpld方面的驱动，包括打印机和读写智能卡。
	  设置程序：IP设置，是否使用3G拨号，apn，ip，是否使用代理。
	  Linux如何直接设置mac地址。

万辉：给出表结构
	  完成业务部分的功能

李瑶：完成连接池等功能。

2011-3-17
1、注册mac地址，http://standards.ieee.org/develop/regauth/oui/index.html， 注册费1750美元。有2^24=1677,7216个地址可用。
2、换了大电池，实时钟有时候能正常显示。
3、mac是个随机值，要写在什么地方还要考虑。
4、把gnome系统中的所有/usr/share/fonts目录下复制到x11的系统中，firefox就可以显示大字体了。
5、把CONFIG1_0这个寄存器的最后两位改为0,1,2,3，系统都会在进行sqlite压力测试中崩溃。
6、在linux系统启动后，挂载flash中的yaffs2系统是可以成功挂载，复制根文件系统后也能正常启动。但是进行sqlite压力测试后文件系统还是崩溃了。
7、firefox可以使用splash扩展，但这个扩展貌似关闭后5秒后firefox的窗口才能显示。修改/usr/bin/firefox这个脚本，在其中加入psplash显示，并通过（sleep XX, pasplash_wait ‘quit’）& 是可以基本实现splash关闭后firefox窗口就显示的目的。

2011-3-16
1、firefox有splash插件，还要试
2、3517使用gpmc作为nand的接口。
3、可以使用umount 目录 来卸载设备，而umount /dev/xxx 这样的方式在一个设备有多次mount时会报错。
4、reboot不正确。
5、使用elite pro 2gb的MMC卡进行sqlite测试，一晚上写了21万记录，貌似还没有报错。而用nand测试，只有ti提供的3715开发板能通过测试。
6、实时钟总是报电压低，小电池可能还是有问题。

2011-3-15
1、x11的系统中，浏览器字体无法变大。
2、模块先+++貌似不会回error之类的东西。

2011-3-14
有ubi_eba_init_scan: cannot reserve enough PEBs for bad PEB handling这样的警告。

uboot下，用 “nand erase clean 其他参数”能删掉部分假的坏块

2011-3-13
Ubi系统复制了一些文件后，有时会崩溃。

2011-3-12
将linux 启动参数中的console改为ttys0，linux启动时就把信息打到lcd屏幕上去了。

2011-3-11
去掉ubi系统内的将ubi转为只读的代码，ubi就可以一次进入，貌似没有什么问题。

王博在u-boot增加显示屏的代码，将屏边绿，但是貌似速度很慢。

Vsftpd增加用户：
1、修改/home/loguser.txt，增加用户名和密码
2、sudo db4.6_load -T -t hash -f /home/loguser.txt /etc/vsftpd_login.db 
3、sudo chmod 600 /etc/vsftpd_login.db
4、cd /home/ftp
5、sudo mkdir xxx
6、sudo chown virtual:virtual xxx
7、sudo chmod 777
8、cd /etc/vsftpd_user_conf
9、sudo cp wuhao xxx
10、sudo vim xxx 修改其根目录
11、sudo /etc/init.d/vsftpd restart

2011-3-10
MMC卡座没有接地，所以系统认为mmc为只读状态，这样就不能从mmc mount文件系统了。

李柱栋移植yaff2，内核增加了yaff2支持，但写文件系统有问题，估计还要改u-boot。

需要测试u-boot，可以这样：
1、	把编译好的u-boot放在tftp服务器目录中
2、	在目标板输入：
tftp  81000000 u-boot.bin
go 81000000 
就可以运行新的u-boot了。


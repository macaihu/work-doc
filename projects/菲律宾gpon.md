


#### 2019.09.10
**刘云**  1、在实验室抓取我们设备OMCI报文日志，从日志上与之前抓取的没太大区别，删除敏感信息后已发给运营商。  
2、使用向运营商申请的虚拟SN（HWTC F0006001）尝试抓取有私有协议的报文，修改SN后连接烽火OLT，到达状态o5后进入o7紧急停止状态，并不再尝试注册。后续将SN修改回来、重启设备、尝试修改厂商ID等信息也无法恢复到之前的样子，一接上光纤就会进入停止状态，目前已按运营商要求将测试步骤和现象邮件发给运营商。
#### 2019.09.10
**刘云**  与烽火开会。向运营商申请的十个虚拟SN好已经配好，（从HWTC F0006001到HWTC F000600A），明天就可以去实验室抓包
#### 2019.09.05
**蔡松延**  烽火防互通私有协议仅在首次注册时进行验证，若首次互通不成功会将对应ONU的SN拉入黑名单，之后OLT不会回复该ONU的任何消息。中兴利用这个原理将已经互通的华为ONU的SN拉入烽火黑名单，使得该ONU也无法互通，向运营商证明了他们私有协议的不安全性。
#### 2019.09.04
**蔡松延** 给华为的设备已经寄出。
#### 2019.09.03
**蔡松延** 与烽火华为开会，烽火要抓包，华为要我们的设备。
#### 2019.09.02
**蔡松延** 再次测试，效果和以前相同，短暂联通后断开。
#### 2019.06.28
**蔡松延**  基本完成菲律宾提出的功能。
#### 2019.06.27
**蔡松延**  GPON ZLT-G201_GLOBE_V1.0.5测试程序
<hide>
- 1、打开防DOS攻击及防端口扫描功能，在防火墙安全等级中配置（原生移动版本功能）；
- 2、upnp在网页关闭时，停止对应的进程，防止端口扫描工具扫描到upnp端口（中兴微patch）；
- 3、关闭l2tp的tcp支持，从而关闭tcp的671端口；
- 4、新增5G WPS网页功能，包括使能开关及PIN码功能；
- 5、WPS按键改为先触发5G 60秒再触发2.4G 60秒，当有一个频段的WPS或WiFi关闭时，只启动另一个频段WPS；
- 6、关闭不能设置相同SSID的限制，修正并打开WiFi阀值的功能，设置默认的5G优先阀值为-50dBm；
- 7、完善升级杀WiFi换取内存的功能，如果升级失败时未杀WiFi（包括降级、校验失败），则系统恢复正常，前端网页根据具体升级状态反馈信息；
- 8、添加中兴微SIP错误码的patch，并在登录页面、SIP配置、状态页面新增SIP错误码及注册失败原因的显示；
- 9、完善GLOBE要求的根据SIP错误码进行VOIP锁定的逻辑，目前错误码“500”视为账号被占用的情况；
- 10、新增设备网络状态的监控，完善GLOBE要求的PPP锁定功能在pppoe成功拨号拿到ip但无法上网时的逻辑功能；
- 11、修正语音页面在注册成功时，显示不正常的问题；
- 12、普通用户网页禁止配置SIP服务器地址、端口等参数；
- 13、ACL底层增加udp的规则限制；
- 14、完善网页恢复配置功能，现在导入配置前端能够正常反馈状态了；
</hide>
#### 2019.06.21
**蔡松延**  在菲律宾3周，没有连通光，还是比较着急的。实验室的人还是很帮我们。  
其他三家公司，中兴，法国一家，twn?一家。蔡松延在来公司前也面试过法国那家，还认识。他们没有通光后就没有怎么在实验室出现了。  
wps上其他厂家有两个按键，我们只有1个按键，客户接受一个个来的方案。  
upnp已经可以正常开启关闭，并且端口扫描不会扫出upnp对应的端口，这个问题确认解决了  
SIP错误码的问题，数据库能够有2个实例，并且参数Reason的值会变化了，但还存在以下问题  
#### 2019.06.20
**蔡松延**  回公司。
#### 2019.06.18
**李光达**  挂机网页会出现内存不足的提示。  
**周连鹏**  5g优先只配置了一个阀值。  
**任银善**  系统两个区域不会自动备份了，uboot是一个。  
**蔡松延**  笔记本使用串口会蓝屏。
#### 2019.06.17
**蔡松延**  5g优先的阀值设置的貌似工作不是很正常。
#### 2019.06.19
**陈良**  5g优先从目前测试来看自动跳转还有问题
#### 2019.06.14
**任银善**  发出菲律宾光猫项目 “瓶颈”说明，主要是中兴关于VOIP错误码的问题和互通问题。  
好消息是：我们的功能项完成的速度是最快的，其他的厂家现场的设备都还没由运营商提出的定制的功能。而且其他厂家的光也没有调通。
#### 2019.06.13
**陈良**  我们通过将我们的ONU信息改为跟烽火ONU信息一致，成功地连接了烽火的OLT，并且可以保持连接  
华为那边需要华为的工程师帮忙解锁,运营商的人一直再联系华为的人  
防DOS攻击验证OK,但是防端口扫描的功能似乎没有作用,已发邮件给中兴那边确认.
#### 2019.06.12
**蔡松延**  客户要求我们设备防火墙必须支持反DOS攻击，包括Syn Flood,Ping of Death, Port Scan,TCP Scan:发现结果与修改前后并无区别  
**陈良**  测试发现有些非必要的端口没有被关闭,目前已经做了处理,等待验证结果  
VOIP的问题中兴已出patch，但经测试patch不起作用，已反馈中兴排查原因  
**任银善** 解决了菲律宾gpon网页漏洞、CSRF漏洞防御、家长控制、端口扫描问题。    
跟进菲律宾gpon的tr069部分关于vdsl的节点应该不需要实现，沟通中。    
跟进128M的gpon升级不稳定问题。如果杀进程、关wifi等还不能完全解决，可能需要裁剪程序减小升级包。
#### 2019.06.11
**陈良** 烽火那边出报告给运营商说我们的设备连不上是因为我们设备光模块不标准导致,针对此问题我们已经回复了邮件给运营商做了澄清  
运营商那边反馈华为新的IOF已经可以用了,周四才可以上传更新  
家长控制任工那边反馈已经可以了,等待测试验证.  
VOIP的问题,中兴那边还没有出新的版本.
#### 2019.06.10
**陈良**  烽火那边反馈明天会出个报告针对之前我们设备连不上他们OLT的问题进行说明.  
华为预计在周四之前才能上传新的IOF   
GPON的功能,安全,TR069这几块做的差不多了，计划在17号左右出一个版本给运营商那边测试.  
 VOIP的问题中兴那边已经找到原因了,等待他们出版本.  
**蔡松延**  默认在页面上关闭了Upnp功能：但是在板子上仍然可以看到upnpd进程在运行  
ZLT-G201_GLOBE_V1.0.0测试程序  
<hide>   

        1. 主页面新增显示LED灯、INTERNET连接、ACL状态等显示；
        2. 新增Wi-Fi WPS功能页面，并把WPS按键改为3秒触发；
        3. 根据菲律宾GLOBE要求，添加两级权限的页面功能；
        4. 新增全新的普通用户WAN PPP页面功能；
        5. 新增全新的普通用户WAN VOIP页面功能；
        6. 新增禁止配置相同的SIP账号和号码功能；
        7. 新增禁止配置相同SSID的功能；
        8. 新增GLOBE要求的PPP、VOIP锁定功能；
        9. 新增升级时关闭WiFi以换取内存的功能；
        10. 新增禁止设备降级的功能（以软件版本最后两位数字作为升降级依据，前置字符串必须一致）； 
        11. 新增家长控制功能页面；
        12. 新增全新的带以下信息展示的登陆页面；
            （1）9个LED的状态
            （2）设备信息
            （3）LAN信息
            （4）ONT信息（光）
            （5）WAN信息
            （6）已连接的客户端信息
            （7）GLOBE要求的两个WAN ACL锁定状态展示
            （8）GLOBE要求的INTERNET连接错误信息展示
        13. WAN连接页面添加“Cancel”按钮功能；
        14. ACL新增SMB、TR069协议，默认端口445，7547；
        15. WAN连接PPPoE连接新增“Connect”、“Disconnect”按钮功能；
        16. 修正DDNS转换Service参数底层不生效的问题；
        17. 关闭WiFi阈值功能、 WEP功能；
        18. 去掉导致语音无法使用的几个tr069参数节点；
        19. 修改网页wifi最大连接数的输入框为下拉框；
        20. 修正当开启隐藏升级页面时，退出登录页面时会显示隐藏url的问题；
        21. 修改WLAN按键响应时间为10秒；
        22. 修正设备启动时，新增的数据库参数报错的问题；
        23. 按GLOBE要求修改恢复出厂功能：
            （1）网页恢复出厂不恢复VOIP、PPP相关的参数；
            （2）按键恢复出厂：0-7秒重启，7-19秒恢复除了PPPoe账号密码外的所有参数，20秒以上恢复全部参数； 
        24. WAN连接Static类型显示改为“IPoE”；
        25. 修正普通用户页面不显示VOIP及无法配置多个SSID的问题；
        26. 修改当2.4G WiFi处于自动信道时，只会选择1-11信道；
        27. 修改MultiNAT页面为“NAPT”，关闭AccessList功能；
        28. 解决ZAP扫描工具报出的5个高危漏洞；
        29. 隐藏部分用不到的页面；
        30. 修改tr069页面为只能通过下拉框选择两套参数中的一套；
        31. 修正loopback将IP写死的问题；
        32. 新增tr069节点3个：
            （1）InternetGatewayDevice.DeviceInfo.X_TZ_CpuUsed
            （2）InternetGatewayDevice.DeviceInfo.X_TZ_MemUsed
            （3）InternetGatewayDevice.Services.VoiceService.{i}.VoiceProfile.{i}.Line.{i}.DirectoryNumber 
        33. 去掉登陆页面验证码的功能；
        34. 修改默认配置实现：
        35. 修正删除带passthrough功能的WAN连接时，WAN相关的三个数据库没删除对应信息的问题； 
        36.  修正当存在passthrough功能的internet WAN连接时，internet灯一直保持与pon灯一致的问题
        37.  增加GLOBE定制的默认配置，实现具体需求：
           （1） 默认网关为“globebroadband.net”或192.168.254.254；
           （2） 禁用所有WAN侧访问，除tr069端口7547，LAN侧只保留web访问；
           （3） 默认的WAN连接、时区、Wi-Fi参数、DHCP参数、tr069配置参数、UPNP、SIP参数、VOIP相关能力参数； 
           （4） 页面添加GLOBE的logo；
</hide>

**任银善**  iptables的mt_time模块增加星期等会有不正确的时间设置。
#### 2019.06.03
**陈良**  设备可以连上烽火的设备,但是过一会就会被踢下来,其他厂家的也是如此  
华为的人今天白天一天都没接电话,晚上8点打过去直接挂了.  
**张飞翔**  SIP错误码的问题初步排查到了问题原因，还待出方案
#### 2019.05.31
**张飞翔**  form表单动态窗口看起来是好的。  
**任银善**  中兴的web service程序看起来不容易找整个头部字符串的地方。在其中一些字段增加判断好像还没有起作用。
#### 2019.05.30
**任银善** iptable模块m_time存在内核时间没有设置的问题，使用date设置就能好。改里面的脚本比较复杂。  
**陈良** 明天应该可以去实验室测试。
#### 2019.05.29
**陈良**  发出[项目看板](http://192.168.1.93:8000/%E8%8F%B2%E5%BE%8B%E5%AE%BEgpon/GPON_%E9%A1%B9%E7%9B%AE%E7%9C%8B%E6%9D%BF_20190529.xlsx).  
**任银善** 其中一个“Anti CSRF Tokens Scanner”漏洞，按照我们已经的经验，是由于form表单的问题。form表单改为动态由js创建。但是，我们修改调试了，发现js一直无法动态创建form表单。
#### 2019.05.27
**陈良**  烽火称开放了第三方ONU的接入，但是我们的设备和其它厂家都连接不上烽火的OLT<hide>  

1. 烽火称开放了第三方ONU的接入，但是我们的设备和其它厂家都连接不上烽火的OLT，运营商要求烽火在这周内派人解决这个问题.  
2. tr069具体的需求参数列表运营商今天已经确认好了发给到我们了.  
3. 功能项中的限速功能，跟运营商确认清楚了，这项需求是OLT的，ONU不需要做.  
4. 运营商借给我们的华为ONU是按他们2018年的需求做的，所以有些功能与他们需求书不一致，2019最新需求的程序华为还没有出，所以给到我们的设备已经是运营商手上华为最新版本的ONU.  
5. 烽火的ONU现在跟我们对接的人手头上也没有，但等我们许可证办好后在实验室里可以找一台给我们看.  
6. 进实验室的许可证运营商预计我们周三可以拿到，今天跟我们对接的人会再帮我们催一下办许可的部门.  
7. 今天联系了华为的人,华为的人反馈目前他们负责人不在,正在等他们负责人签字,已经让他们想想办法看能否让其他负责人签一下.也和运营商那边反馈了,让运营商那边再催一下他们.</hide>

#### 2019.05.24
**蔡松延**  SIP错误码的问题中兴一直没有回应。
#### 2019.05.23
**陈良**  申请调试许可的资料已经提交,预计下周可以拿到许可.<br>华为OLT还没有发布非华为的IOF文件,烽火的OLT已经发布了,但是连接我们的GPON不同步。<br>烽火已经在OLT端捕获了日志，下周获得许可后可进去调试,看看什么原因。
#### 2019.05.22
**任银善** 处理工厂wifi打流测试不能找到ssid的问题，其他设备生产似乎没有碰到同样不能搜到，但手机能使用连接隐藏ssid的方式连到的问题。<br>菲律宾功能方面已经差不多，剩余不确认的功能等前方反馈。
#### 2019.05.21
**任银善**  工厂打流测试，会出现SSID找不到的问题
#### 2019.05.20
**任银善** 使用石英偷偷提供的patch，不能解安全测试。  
**蔡松延** 明天出发去菲律宾，准备做：还有以下工作:LAN和WLAN必须支持家长控制功能（时间管理）剩余工作不是非常清楚： ACS 服务器支持远程speedtest测速，必须禁用VoIP Keepalive 模式，当VoIP注册失败时，需要显示注册失败的SIP code和描述，支持TR-069, TR-181 and TR-143，可以从管理页面和ACS设置网络带宽在用户页面显示自动
#### 2019.05.16
**任银善** 给石英电话，没有问到那个做了的厂商是哪个。剩下7个功能点，修改bug，灯的控制。还有些需求不是非常明确。陈良在等g20的新样机再去菲律宾。
#### 2019.05.13
**石英** 我们领导刚刚决策不处理了，你们自己处理。
#### 2019.05.10
**陈良**  已整理安全测试的相关资料和报告发给中兴那边,推动他们进行修复. 
#### 2019.05.09
**蔡松延**所有的修改都已经合并到了一个tmp_master分支，把原来的master改成了old_master，把这个分支reset为master
#### 2019.05.08
**任银善**泰国第二个订单是28K，比原来说的要少。还是使用1月的软件。新的软件还没有开始测试。后期要带语音。  
菲律宾要加30多个功能，还有自己的页面要求，安全测试。  下周去菲律宾先接通。  
#### 2019.05.07
**任银善**发出修改后的功能看板。很详细的一个表格。
#### 2019.05.05
**毛祖潇**  目前还需要@颜总和@任工跟进下样机准备进度  
**任银善**  发出修改后的功能文档和看板。  
**陈良**  已和客户那边确认需要提供带语音口的样机. 
#### 2019.4.29
**毛祖潇**  1.良哥已和客户那边确认需要提供带语音口的样机。  2.请颜总确认下样机准备进度  
#### 2019.4.28
**蔡松延**  问为什么要要求到从master出程序，聊了一段时间，原来是任银善把不同的代码复制好多份，放在不同的目录中，这样以后做比较就非常复杂，非常不方便。使用cherrypick就非常方便。  
使用少内存的情况下，2.4g打流会导致串口响应非常慢。  **<font color=red>要测试一下同时使用光和wifi，速度高的情况是否能挺过去</font>**
#### 2019.4.9
**陈良**gpon安全扫描有5个高危。  
**李光达**泰国3BB V1.2.4简单验证通过，可以发给客户升级测试。  
**蔡松延**手上好几件事情了，其他事情先评估。
